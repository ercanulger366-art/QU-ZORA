<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quizora â€” YarÄ±ÅŸma Platformu</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=Exo+2:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #05050f;
  --bg2: #0a0a1a;
  --bg3: #0f0f24;
  --blue: #00c3ff;
  --blue2: #0080ff;
  --purple: #9b59ff;
  --purple2: #6c35d4;
  --gold: #ffd700;
  --gold2: #ffaa00;
  --green: #00ff88;
  --red: #ff3355;
  --text: #ffffff;
  --text2: #a0aec0;
  --text3: #4a5568;
  --glass: rgba(255,255,255,0.04);
  --glass2: rgba(255,255,255,0.08);
  --border: rgba(255,255,255,0.08);
  --border2: rgba(0,195,255,0.2);
  --shadow-blue: 0 0 30px rgba(0,195,255,0.3);
  --shadow-purple: 0 0 30px rgba(155,89,255,0.3);
  --shadow-gold: 0 0 30px rgba(255,215,0,0.4);
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{
  background:var(--bg);color:var(--text);
  font-family:'Exo 2',sans-serif;
  min-height:100vh;overflow-x:hidden;line-height:1.6;
}
.bg-layer{position:fixed;inset:0;z-index:0;pointer-events:none;background:radial-gradient(ellipse 80% 50% at 50% -20%,rgba(0,195,255,0.06) 0%,transparent 70%),radial-gradient(ellipse 60% 40% at 80% 100%,rgba(155,89,255,0.05) 0%,transparent 60%);}
.bg-grid{position:fixed;inset:0;z-index:0;pointer-events:none;background-image:linear-gradient(rgba(0,195,255,0.025) 1px,transparent 1px),linear-gradient(90deg,rgba(0,195,255,0.025) 1px,transparent 1px);background-size:60px 60px;}
.bg-stars{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden;}
.star{position:absolute;border-radius:50%;background:white;animation:twinkle var(--d) ease-in-out infinite;opacity:0;}
@keyframes twinkle{0%,100%{opacity:0;transform:scale(0.5);}50%{opacity:var(--op);transform:scale(1);}}
.hidden{display:none!important;}
.screen{position:relative;z-index:1;}
::-webkit-scrollbar{width:4px;}
::-webkit-scrollbar-thumb{background:var(--purple2);border-radius:4px;}

/* AUTH */
#auth-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;}
.auth-box{width:100%;max-width:420px;animation:slideUp 0.6s cubic-bezier(0.22,1,0.36,1) forwards;}
@keyframes slideUp{from{opacity:0;transform:translateY(30px);}to{opacity:1;transform:translateY(0);}}
.logo-wrap{text-align:center;margin-bottom:32px;}
.logo-svg{width:200px;height:60px;margin:0 auto 8px;}
.logo-tagline{font-size:0.75rem;color:var(--text2);letter-spacing:6px;text-transform:uppercase;}
.auth-card{background:var(--glass);border:1px solid var(--border);border-radius:24px;padding:36px;backdrop-filter:blur(24px);box-shadow:0 40px 80px rgba(0,0,0,0.6),inset 0 1px 0 rgba(255,255,255,0.05);}
.auth-tabs{display:flex;gap:4px;background:rgba(0,0,0,0.4);padding:4px;border-radius:14px;margin-bottom:28px;}
.auth-tab{flex:1;padding:11px;border:none;background:transparent;color:var(--text2);font-family:'Exo 2',sans-serif;font-size:0.9rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;cursor:pointer;border-radius:11px;transition:all 0.3s;}
.auth-tab.active{background:linear-gradient(135deg,var(--blue2),var(--purple2));color:white;box-shadow:var(--shadow-blue);}
.form-group{margin-bottom:16px;}
.form-label{display:block;font-size:0.72rem;letter-spacing:2px;text-transform:uppercase;color:var(--text2);margin-bottom:7px;font-weight:600;}
.form-input{width:100%;padding:13px 16px;background:rgba(0,0,0,0.4);border:1px solid var(--border);border-radius:12px;color:var(--text);font-family:'Exo 2',sans-serif;font-size:1rem;font-weight:500;outline:none;transition:all 0.3s;}
.form-input:focus{border-color:var(--blue);box-shadow:0 0 0 3px rgba(0,195,255,0.1);}
.form-input::placeholder{color:var(--text3);}
.remember-row{display:flex;align-items:center;gap:10px;margin-bottom:20px;cursor:pointer;}
.remember-row input{width:16px;height:16px;cursor:pointer;accent-color:var(--blue);}
.remember-row span{font-size:0.85rem;color:var(--text2);}
.btn-auth{width:100%;padding:14px;background:linear-gradient(135deg,var(--blue2),var(--purple2));border:none;border-radius:14px;color:white;font-family:'Cinzel',serif;font-size:1rem;font-weight:700;letter-spacing:2px;cursor:pointer;transition:all 0.3s;box-shadow:var(--shadow-blue);position:relative;overflow:hidden;}
.btn-auth::after{content:'';position:absolute;top:-50%;left:-60%;width:40%;height:200%;background:rgba(255,255,255,0.15);transform:skewX(-20deg);animation:btnShine 3s infinite;}
@keyframes btnShine{0%{left:-60%;}100%{left:160%;}}
.btn-auth:hover{transform:translateY(-2px);box-shadow:0 0 40px rgba(0,195,255,0.5);}
.auth-error{color:var(--red);font-size:0.82rem;text-align:center;margin-top:12px;min-height:18px;font-weight:600;}
.strength-bar{height:4px;border-radius:4px;background:rgba(255,255,255,0.1);margin-top:6px;overflow:hidden;}
.strength-fill{height:100%;border-radius:4px;transition:all 0.3s;width:0%;}

/* LOBBY */
#lobby-screen{min-height:100vh;padding:16px;}
.lobby-header{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:var(--glass);border:1px solid var(--border);border-radius:16px;margin-bottom:20px;backdrop-filter:blur(20px);}
.lobby-logo-text{font-family:'Cinzel',serif;font-size:1.3rem;font-weight:900;letter-spacing:3px;background:linear-gradient(135deg,var(--blue),var(--purple));-webkit-background-clip:text;background-clip:text;color:transparent;}
.hdr-user{display:flex;align-items:center;gap:12px;}
.hdr-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--blue2),var(--purple2));display:flex;align-items:center;justify-content:center;font-family:'Cinzel',serif;font-weight:700;font-size:1rem;box-shadow:var(--shadow-purple);cursor:pointer;}
.hdr-name{font-weight:700;font-size:0.95rem;}
.hdr-level{font-size:0.75rem;color:var(--blue);}
.hdr-wallet{display:flex;align-items:center;gap:6px;background:rgba(255,215,0,0.08);border:1px solid rgba(255,215,0,0.2);border-radius:20px;padding:5px 12px;font-weight:700;color:var(--gold);font-size:0.85rem;}
.btn-logout{padding:7px 14px;background:transparent;border:1px solid rgba(255,51,85,0.3);border-radius:8px;color:var(--red);font-family:'Exo 2',sans-serif;font-size:0.78rem;font-weight:700;cursor:pointer;transition:all 0.3s;letter-spacing:1px;}
.btn-logout:hover{background:rgba(255,51,85,0.1);}
.lobby-grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:14px;margin-bottom:20px;}
@media(max-width:900px){.lobby-grid{grid-template-columns:1fr 1fr;}}
.stat-card{background:var(--glass);border:1px solid var(--border);border-radius:16px;padding:18px;text-align:center;backdrop-filter:blur(20px);transition:all 0.3s;}
.stat-card:hover{border-color:var(--border2);transform:translateY(-2px);}
.stat-icon{font-size:1.8rem;margin-bottom:8px;}
.stat-val{font-family:'Cinzel',serif;font-size:1.6rem;font-weight:700;background:linear-gradient(135deg,var(--blue),var(--purple));-webkit-background-clip:text;background-clip:text;color:transparent;}
.stat-lbl{font-size:0.7rem;color:var(--text2);letter-spacing:2px;text-transform:uppercase;margin-top:4px;}
.xp-section{background:var(--glass);border:1px solid var(--border);border-radius:16px;padding:18px 22px;margin-bottom:20px;backdrop-filter:blur(20px);}
.xp-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
.xp-level{font-family:'Cinzel',serif;font-weight:700;color:var(--gold);font-size:1rem;}
.xp-text{font-size:0.8rem;color:var(--text2);}
.xp-bar-bg{height:8px;border-radius:8px;background:rgba(255,255,255,0.08);overflow:hidden;}
.xp-bar-fill{height:100%;border-radius:8px;background:linear-gradient(90deg,var(--blue2),var(--purple));transition:width 1s cubic-bezier(0.22,1,0.36,1);position:relative;overflow:hidden;}
.xp-bar-fill::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);animation:xpShimmer 2s infinite;}
@keyframes xpShimmer{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
.lobby-main{display:grid;grid-template-columns:2fr 1fr;gap:16px;}
@media(max-width:700px){.lobby-main{grid-template-columns:1fr;}}
.btn-play{padding:28px;background:linear-gradient(135deg,var(--blue2),var(--purple2));border:none;border-radius:18px;color:white;font-family:'Cinzel',serif;font-size:1.4rem;font-weight:900;letter-spacing:3px;cursor:pointer;transition:all 0.3s;box-shadow:0 0 40px rgba(0,128,255,0.4);position:relative;overflow:hidden;width:100%;}
.btn-play::before{content:'';position:absolute;inset:0;background:linear-gradient(45deg,transparent,rgba(255,255,255,0.1),transparent);animation:playShine 2.5s infinite;}
@keyframes playShine{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
.btn-play:hover{transform:translateY(-3px);box-shadow:0 0 60px rgba(0,128,255,0.6);}
.btn-play-sub{font-size:0.75rem;letter-spacing:4px;opacity:0.7;margin-top:4px;font-family:'Exo 2',sans-serif;font-weight:400;}
.side-buttons{display:flex;flex-direction:column;gap:10px;}
.btn-side{padding:16px;background:var(--glass);border:1px solid var(--border);border-radius:14px;color:var(--text);font-family:'Exo 2',sans-serif;font-size:0.9rem;font-weight:700;cursor:pointer;transition:all 0.3s;letter-spacing:1px;text-align:center;}
.btn-side.gold{color:var(--gold);border-color:rgba(255,215,0,0.2);}
.btn-side.gold:hover{border-color:var(--gold);box-shadow:var(--shadow-gold);}
.btn-side.purple{color:var(--purple);border-color:rgba(155,89,255,0.2);}
.btn-side.purple:hover{border-color:var(--purple);box-shadow:var(--shadow-purple);}
.btn-side.blue{color:var(--blue);border-color:rgba(0,195,255,0.2);}
.btn-side.blue:hover{border-color:var(--blue);box-shadow:var(--shadow-blue);}

/* GAME */
#game-screen{min-height:100vh;display:flex;flex-direction:column;padding:12px;gap:10px;background:radial-gradient(ellipse at 50% 0%,rgba(0,80,160,0.15) 0%,transparent 60%);}
.game-top{display:flex;align-items:center;justify-content:space-between;gap:12px;}
.money-ladder{background:var(--glass);border:1px solid var(--border);border-radius:14px;padding:10px 16px;backdrop-filter:blur(20px);font-family:'Cinzel',serif;font-size:1rem;font-weight:700;color:var(--gold);display:flex;align-items:center;gap:8px;}
.game-score-panel{display:flex;gap:16px;align-items:center;background:var(--glass);border:1px solid var(--border);border-radius:14px;padding:10px 18px;backdrop-filter:blur(20px);}
.gscore-item{text-align:center;}
.gscore-lbl{font-size:0.6rem;color:var(--text2);letter-spacing:2px;text-transform:uppercase;}
.gscore-val{font-family:'Cinzel',serif;font-size:1.1rem;font-weight:700;color:var(--blue);}
.btn-exit{padding:8px 16px;background:transparent;border:1px solid rgba(255,51,85,0.3);border-radius:10px;color:var(--red);font-family:'Exo 2',sans-serif;font-size:0.78rem;font-weight:700;cursor:pointer;transition:all 0.3s;white-space:nowrap;}
.btn-exit:hover{background:rgba(255,51,85,0.1);}
.barriers{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;}
.barrier-item{padding:4px 12px;border-radius:20px;font-size:0.7rem;font-weight:700;letter-spacing:1px;}
.barrier-item.passed{background:rgba(0,255,136,0.15);border:1px solid rgba(0,255,136,0.3);color:var(--green);}
.barrier-item.current{background:rgba(255,215,0,0.2);border:1px solid var(--gold);color:var(--gold);animation:glow-gold 1.5s infinite;}
.barrier-item.future{background:rgba(255,255,255,0.03);border:1px solid var(--border);color:var(--text3);}
@keyframes glow-gold{0%,100%{box-shadow:none;}50%{box-shadow:0 0 15px rgba(255,215,0,0.5);}}
.timer-wrap{display:flex;align-items:center;justify-content:center;gap:12px;}
.timer-circle{width:64px;height:64px;border-radius:50%;background:conic-gradient(var(--blue) var(--pct,100%),rgba(255,255,255,0.05) 0%);display:flex;align-items:center;justify-content:center;font-family:'Cinzel',serif;font-size:1.1rem;font-weight:700;position:relative;box-shadow:0 0 20px rgba(0,195,255,0.3);transition:background 0.1s;}
.timer-circle.danger{background:conic-gradient(var(--red) var(--pct,100%),rgba(255,255,255,0.05) 0%);box-shadow:0 0 20px rgba(255,51,85,0.5);animation:timerPulse 0.5s infinite;}
@keyframes timerPulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
.timer-lbl{font-size:0.65rem;color:var(--text2);letter-spacing:2px;text-transform:uppercase;text-align:center;}
.question-area{background:var(--glass);border:1px solid var(--border2);border-radius:20px;padding:28px 32px;backdrop-filter:blur(24px);box-shadow:0 0 40px rgba(0,195,255,0.05),inset 0 1px 0 rgba(255,255,255,0.05);position:relative;overflow:hidden;}
.question-area::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,var(--blue),var(--purple),transparent);animation:scanLine 3s linear infinite;}
@keyframes scanLine{0%{opacity:0.5;}50%{opacity:1;}100%{opacity:0.5;}}
.q-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;}
.q-number{font-size:0.75rem;color:var(--blue);font-weight:700;letter-spacing:3px;text-transform:uppercase;}
.q-diff{padding:3px 10px;border-radius:20px;font-size:0.7rem;font-weight:700;letter-spacing:1px;}
.q-diff.easy{background:rgba(0,255,136,0.1);color:var(--green);border:1px solid rgba(0,255,136,0.2);}
.q-diff.medium{background:rgba(255,170,0,0.1);color:var(--gold2);border:1px solid rgba(255,170,0,0.2);}
.q-diff.hard{background:rgba(255,51,85,0.1);color:var(--red);border:1px solid rgba(255,51,85,0.2);}
.q-text{font-size:1.15rem;font-weight:600;color:#ffffff;line-height:1.7;text-align:center;text-shadow:0 0 20px rgba(255,255,255,0.1);}
.answers-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px;}
@media(max-width:600px){.answers-grid{grid-template-columns:1fr;}}
.answer-btn{padding:16px 20px;background:rgba(0,0,0,0.4);border:2px solid rgba(255,255,255,0.08);border-radius:14px;color:#ffffff;font-family:'Exo 2',sans-serif;font-size:0.95rem;font-weight:600;cursor:pointer;transition:all 0.25s;text-align:left;display:flex;align-items:center;gap:12px;position:relative;overflow:hidden;}
.answer-btn:not(:disabled):hover{border-color:var(--blue);background:rgba(0,195,255,0.08);transform:translateX(4px);box-shadow:0 0 20px rgba(0,195,255,0.15);}
.answer-btn:disabled{cursor:not-allowed;}
.answer-letter{min-width:32px;height:32px;border-radius:50%;background:rgba(255,255,255,0.08);display:flex;align-items:center;justify-content:center;font-family:'Cinzel',serif;font-weight:700;font-size:0.85rem;flex-shrink:0;transition:all 0.25s;}
.answer-btn.correct{border-color:var(--green)!important;background:rgba(0,255,136,0.1)!important;animation:correctFlash 0.5s ease;}
.answer-btn.correct .answer-letter{background:var(--green);color:#000;}
.answer-btn.wrong{border-color:var(--red)!important;background:rgba(255,51,85,0.1)!important;animation:wrongShake 0.5s ease;}
.answer-btn.wrong .answer-letter{background:var(--red);color:white;}
.answer-btn.hidden-joker{opacity:0.2;pointer-events:none;}
@keyframes correctFlash{0%{box-shadow:none;}50%{box-shadow:0 0 40px rgba(0,255,136,0.6);}100%{box-shadow:none;}}
@keyframes wrongShake{0%,100%{transform:translateX(0);}25%{transform:translateX(-8px);}75%{transform:translateX(8px);}}
.jokers-bar{display:flex;gap:10px;justify-content:center;align-items:center;flex-wrap:wrap;}
.joker-btn{padding:10px 18px;background:rgba(155,89,255,0.1);border:1px solid rgba(155,89,255,0.3);border-radius:12px;color:var(--purple);font-family:'Exo 2',sans-serif;font-size:0.82rem;font-weight:700;cursor:pointer;transition:all 0.3s;letter-spacing:1px;display:flex;align-items:center;gap:6px;}
.joker-btn:hover:not(:disabled){background:rgba(155,89,255,0.2);box-shadow:0 0 20px rgba(155,89,255,0.3);transform:translateY(-2px);}
.joker-btn:disabled{opacity:0.3;cursor:not-allowed;transform:none;}
.joker-btn.used{opacity:0.2;cursor:not-allowed;text-decoration:line-through;}
.audience-chart{display:flex;gap:10px;align-items:flex-end;justify-content:center;padding:16px;background:rgba(0,0,0,0.3);border-radius:12px;margin-top:10px;}
.aud-bar-wrap{text-align:center;flex:1;}
.aud-bar-bg{height:80px;background:rgba(255,255,255,0.05);border-radius:6px;display:flex;align-items:flex-end;overflow:hidden;}
.aud-bar-fill{width:100%;border-radius:6px;background:linear-gradient(180deg,var(--blue),var(--purple2));transition:height 0.8s cubic-bezier(0.22,1,0.36,1);}
.aud-label{font-size:0.75rem;font-weight:700;color:var(--text2);margin-top:5px;}
.aud-pct{font-size:0.85rem;font-weight:700;color:var(--blue);}
.phone-msg{background:rgba(0,0,0,0.4);border:1px solid var(--border2);border-radius:12px;padding:16px;margin-top:10px;font-style:italic;color:var(--text);line-height:1.6;font-size:0.9rem;}
.game-status{text-align:center;font-size:0.9rem;color:var(--text2);font-weight:500;min-height:24px;letter-spacing:1px;}

/* LB */
.lb-row{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:12px;margin-bottom:8px;background:var(--glass);border:1px solid var(--border);transition:all 0.3s;}
.lb-row.top1{background:rgba(255,215,0,0.06);border-color:rgba(255,215,0,0.25);}
.lb-row.top2{background:rgba(192,192,192,0.04);border-color:rgba(192,192,192,0.15);}
.lb-row.top3{background:rgba(205,127,50,0.05);border-color:rgba(205,127,50,0.15);}
.lb-row.me{border-color:rgba(0,195,255,0.4);box-shadow:0 0 15px rgba(0,195,255,0.1);}
.lb-rank{font-family:'Cinzel',serif;font-weight:700;min-width:36px;text-align:center;font-size:1rem;}
.lb-av{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--blue2),var(--purple2));display:flex;align-items:center;justify-content:center;font-family:'Cinzel',serif;font-weight:700;font-size:0.85rem;flex-shrink:0;}
.lb-name{flex:1;font-weight:700;font-size:0.9rem;}
.lb-xp{font-family:'Cinzel',serif;color:var(--blue);font-weight:700;}
.lb-wr{font-size:0.72rem;color:var(--text2);}

/* MODALS */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.85);backdrop-filter:blur(12px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:16px;}
.modal{background:var(--bg2);border:1px solid var(--border);border-radius:24px;padding:32px;max-width:480px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 40px 80px rgba(0,0,0,0.7);animation:modalPop 0.4s cubic-bezier(0.22,1,0.36,1);}
.modal::-webkit-scrollbar{width:3px;}
@keyframes modalPop{from{opacity:0;transform:scale(0.88) translateY(16px);}to{opacity:1;transform:scale(1) translateY(0);}}
.modal-title{font-family:'Cinzel',serif;font-size:1.5rem;font-weight:900;text-align:center;margin-bottom:6px;letter-spacing:2px;}
.modal-sub{color:var(--text2);text-align:center;font-size:0.82rem;letter-spacing:2px;text-transform:uppercase;margin-bottom:24px;}
.modal.win .modal-title{color:var(--gold);}
.modal.win{border-color:rgba(255,215,0,0.3);box-shadow:0 0 60px rgba(255,215,0,0.15);}
.modal.lose .modal-title{color:var(--red);}
.modal.lose{border-color:rgba(255,51,85,0.2);}
.modal-scores{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:20px;}
.modal-sc{background:var(--glass);border:1px solid var(--border);border-radius:14px;padding:16px;text-align:center;}
.modal-sc-lbl{font-size:0.72rem;color:var(--text2);letter-spacing:2px;text-transform:uppercase;margin-bottom:5px;}
.modal-sc-val{font-family:'Cinzel',serif;font-size:1.8rem;font-weight:700;color:var(--blue);}
.modal-reward{background:rgba(255,215,0,0.07);border:1px solid rgba(255,215,0,0.2);border-radius:12px;padding:14px;text-align:center;color:var(--gold);font-weight:600;font-size:0.9rem;margin-bottom:20px;line-height:1.6;}
.modal-btns{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.btn-modal-primary{padding:13px;background:linear-gradient(135deg,var(--blue2),var(--purple2));border:none;border-radius:12px;color:white;font-family:'Cinzel',serif;font-size:0.85rem;font-weight:700;letter-spacing:1px;cursor:pointer;transition:all 0.3s;}
.btn-modal-primary:hover{transform:translateY(-2px);box-shadow:var(--shadow-blue);}
.btn-modal-secondary{padding:13px;background:var(--glass);border:1px solid var(--border);border-radius:12px;color:var(--text);font-family:'Exo 2',sans-serif;font-size:0.85rem;font-weight:700;cursor:pointer;transition:all 0.3s;}
.btn-modal-secondary:hover{border-color:rgba(255,255,255,0.2);}
.btn-modal-full{padding:13px;width:100%;background:var(--glass);border:1px solid var(--border);border-radius:12px;color:var(--text);font-family:'Exo 2',sans-serif;font-size:0.9rem;font-weight:700;cursor:pointer;transition:all 0.3s;margin-top:10px;}
.btn-modal-full:hover{border-color:rgba(255,255,255,0.2);}
.shop-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
@media(max-width:400px){.shop-grid{grid-template-columns:1fr;}}
.shop-item{background:var(--glass);border:1px solid var(--border);border-radius:14px;padding:16px;text-align:center;transition:all 0.3s;cursor:pointer;}
.shop-item:hover{border-color:var(--border2);transform:translateY(-2px);}
.shop-item.owned{border-color:rgba(0,255,136,0.3);opacity:0.7;}
.shop-icon{font-size:1.8rem;margin-bottom:8px;}
.shop-name{font-weight:700;font-size:0.85rem;margin-bottom:4px;}
.shop-desc{font-size:0.72rem;color:var(--text2);margin-bottom:10px;}
.shop-price{display:inline-flex;align-items:center;gap:4px;background:rgba(255,215,0,0.1);border:1px solid rgba(255,215,0,0.2);border-radius:20px;padding:4px 10px;color:var(--gold);font-weight:700;font-size:0.82rem;}
.shop-owned{color:var(--green);font-size:0.78rem;font-weight:700;letter-spacing:1px;}

/* TOAST */
.toast-container{position:fixed;top:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:8px;}
.toast{padding:12px 20px;border-radius:12px;font-weight:600;font-size:0.88rem;backdrop-filter:blur(20px);border:1px solid var(--border);animation:toastIn 0.4s cubic-bezier(0.22,1,0.36,1);max-width:300px;}
.toast.success{background:rgba(0,255,136,0.15);border-color:rgba(0,255,136,0.3);color:var(--green);}
.toast.error{background:rgba(255,51,85,0.15);border-color:rgba(255,51,85,0.3);color:var(--red);}
.toast.info{background:rgba(0,195,255,0.12);border-color:rgba(0,195,255,0.25);color:var(--blue);}
.toast.gold{background:rgba(255,215,0,0.12);border-color:rgba(255,215,0,0.25);color:var(--gold);}
@keyframes toastIn{from{opacity:0;transform:translateX(30px);}to{opacity:1;transform:translateX(0);}}

/* EFFECT */
.effect-overlay{position:fixed;inset:0;z-index:2000;display:flex;align-items:center;justify-content:center;pointer-events:none;}
.effect-text{font-family:'Cinzel',serif;font-weight:900;font-size:3.5rem;text-align:center;animation:effectPop 1.6s cubic-bezier(0.22,1,0.36,1) forwards;opacity:0;}
@keyframes effectPop{0%{opacity:0;transform:scale(0.5);}20%{opacity:1;transform:scale(1.2);}60%{opacity:1;transform:scale(1);}100%{opacity:0;transform:scale(0.9) translateY(-30px);}}
.effect-text.correct-color{background:linear-gradient(135deg,var(--green),var(--blue));-webkit-background-clip:text;background-clip:text;color:transparent;filter:drop-shadow(0 0 20px rgba(0,255,136,0.6));}
.effect-text.wrong-color{color:var(--red);filter:drop-shadow(0 0 20px rgba(255,51,85,0.6));}

/* PROFILE */
.profile-avatar-big{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--blue2),var(--purple2));display:flex;align-items:center;justify-content:center;font-family:'Cinzel',serif;font-weight:700;font-size:2rem;margin:0 auto 16px;box-shadow:var(--shadow-purple);border:3px solid rgba(255,255,255,0.1);}
.profile-stat-row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-bottom:16px;}
.profile-stat{background:var(--glass);border:1px solid var(--border);border-radius:12px;padding:12px;text-align:center;}
.profile-stat-v{font-family:'Cinzel',serif;font-size:1.2rem;font-weight:700;color:var(--blue);}
.profile-stat-l{font-size:0.65rem;color:var(--text2);letter-spacing:1px;text-transform:uppercase;}

/* ADMIN */
.admin-form{display:flex;flex-direction:column;gap:12px;}
.admin-form textarea{width:100%;padding:12px;background:rgba(0,0,0,0.4);border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:'Exo 2',sans-serif;font-size:0.9rem;resize:vertical;min-height:80px;outline:none;}
.admin-form textarea:focus{border-color:var(--blue);}
.admin-form select{width:100%;padding:12px;background:rgba(0,0,0,0.4);border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:'Exo 2',sans-serif;outline:none;}
.admin-q-list{margin-top:16px;max-height:200px;overflow-y:auto;}
.admin-q-item{display:flex;justify-content:space-between;align-items:center;padding:10px;background:var(--glass);border-radius:10px;margin-bottom:6px;font-size:0.82rem;}
.btn-del{padding:4px 10px;background:rgba(255,51,85,0.1);border:1px solid rgba(255,51,85,0.3);border-radius:6px;color:var(--red);cursor:pointer;font-size:0.75rem;transition:all 0.2s;}
.btn-del:hover{background:rgba(255,51,85,0.2);}

/* VOICE */
.voice-card{padding:12px 14px;border-radius:12px;background:var(--glass);border:1px solid var(--border);margin-bottom:8px;cursor:pointer;transition:all 0.2s;}
.voice-card:hover{border-color:var(--border2);background:rgba(0,195,255,0.05);}
.voice-card.selected{border-color:rgba(0,195,255,0.4);background:rgba(0,195,255,0.06);}

/* LOADING */
.loading-screen{position:fixed;inset:0;z-index:5000;background:var(--bg);display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px;}
.loading-logo{font-family:'Cinzel',serif;font-size:3rem;font-weight:900;background:linear-gradient(135deg,var(--blue),var(--purple));-webkit-background-clip:text;background-clip:text;color:transparent;letter-spacing:4px;animation:loadingPulse 1.5s ease-in-out infinite;}
@keyframes loadingPulse{0%,100%{filter:brightness(0.8);}50%{filter:brightness(1.2);}}
.loading-bar-bg{width:200px;height:3px;border-radius:3px;background:rgba(255,255,255,0.08);overflow:hidden;}
.loading-bar-fill{height:100%;border-radius:3px;background:linear-gradient(90deg,var(--blue),var(--purple));animation:loadBar 1.8s ease-in-out infinite;}
@keyframes loadBar{0%{width:0%;margin-left:0;}50%{width:60%;margin-left:20%;}100%{width:0%;margin-left:100%;}}
.loading-status{font-size:0.8rem;color:var(--text2);letter-spacing:3px;}
.section-title{font-family:'Cinzel',serif;font-size:0.85rem;font-weight:700;letter-spacing:3px;text-transform:uppercase;color:var(--text2);margin-bottom:14px;padding-bottom:10px;border-bottom:1px solid var(--border);}
@media(max-width:480px){.game-top{flex-wrap:wrap;gap:8px;}.barriers{display:none;}.q-text{font-size:1rem;}.modal{padding:22px 16px;}.modal-title{font-size:1.2rem;}}
</style>
</head>
<body>

<div class="bg-layer"></div>
<div class="bg-grid"></div>
<div class="bg-stars" id="bg-stars"></div>
<div class="toast-container" id="toast-container"></div>
<div class="effect-overlay hidden" id="effect-overlay"><div class="effect-text" id="effect-text"></div></div>

<!-- LOADING -->
<div class="loading-screen" id="loading-screen">
  <div class="loading-logo">QUIZORA</div>
  <div class="loading-bar-bg"><div class="loading-bar-fill"></div></div>
  <div class="loading-status" id="loading-status">BAÄLANIYOR...</div>
</div>

<!-- AUTH -->
<div id="auth-screen" class="screen hidden">
  <div class="auth-box">
    <div class="logo-wrap">
      <svg class="logo-svg" viewBox="0 0 200 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="lg1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#00c3ff"/><stop offset="100%" stop-color="#9b59ff"/></linearGradient>
          <filter id="glow"><feGaussianBlur stdDeviation="2" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
        </defs>
        <circle cx="28" cy="30" r="20" stroke="url(#lg1)" stroke-width="3" fill="none" filter="url(#glow)"/>
        <circle cx="28" cy="30" r="12" stroke="url(#lg1)" stroke-width="1.5" fill="none" opacity="0.4"/>
        <line x1="36" y1="42" x2="44" y2="52" stroke="url(#lg1)" stroke-width="3" stroke-linecap="round"/>
        <text x="56" y="38" font-family="Cinzel, serif" font-size="22" font-weight="900" fill="url(#lg1)" filter="url(#glow)">QUIZORA</text>
        <circle cx="56" cy="10" r="2" fill="#00c3ff" opacity="0.6"/>
        <circle cx="62" cy="7" r="1.5" fill="#9b59ff" opacity="0.5"/>
        <circle cx="68" cy="10" r="1" fill="#00c3ff" opacity="0.4"/>
      </svg>
      <div class="logo-tagline">Bilgi YarÄ±ÅŸmasÄ± Platformu</div>
    </div>
    <div class="auth-card">
      <div class="auth-tabs">
        <button class="auth-tab active" onclick="authTab('login')">GÄ°RÄ°Å</button>
        <button class="auth-tab" onclick="authTab('register')">KAYIT</button>
      </div>
      <div id="login-form">
        <div class="form-group"><label class="form-label">KullanÄ±cÄ± AdÄ±</label><input class="form-input" id="l-user" type="text" placeholder="kullanÄ±cÄ±_adÄ±nÄ±z" autocomplete="username"></div>
        <div class="form-group"><label class="form-label">Åifre</label><input class="form-input" id="l-pass" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password"></div>
        <label class="remember-row"><input type="checkbox" id="l-remember" checked><span>Beni hatÄ±rla</span></label>
        <button class="btn-auth" onclick="doLogin()">GÄ°RÄ°Å YAP</button>
      </div>
      <div id="register-form" class="hidden">
        <div class="form-group"><label class="form-label">KullanÄ±cÄ± AdÄ±</label><input class="form-input" id="r-user" type="text" placeholder="en az 3 karakter" autocomplete="username"></div>
        <div class="form-group"><label class="form-label">Åifre</label><input class="form-input" id="r-pass" type="password" placeholder="en az 6 karakter" autocomplete="new-password" oninput="checkStrength(this.value)"><div class="strength-bar"><div class="strength-fill" id="strength-fill"></div></div></div>
        <div class="form-group"><label class="form-label">Åifre Tekrar</label><input class="form-input" id="r-pass2" type="password" placeholder="ÅŸifrenizi tekrar girin" autocomplete="new-password"></div>
        <button class="btn-auth" onclick="doRegister()">HESAP OLUÅTUR</button>
      </div>
      <div class="auth-error" id="auth-err"></div>
    </div>
  </div>
</div>

<!-- LOBBY -->
<div id="lobby-screen" class="screen hidden">
  <div class="lobby-header">
    <div class="lobby-logo-text">QUIZORA</div>
    <div class="hdr-user">
      <div class="hdr-wallet">ğŸ’° <span id="hdr-wallet">0</span></div>
      <div class="hdr-avatar" id="hdr-avatar" onclick="openProfile()">?</div>
      <div><div class="hdr-name" id="hdr-name">â€”</div><div class="hdr-level" id="hdr-level">LVL 1</div></div>
    </div>
    <button class="btn-logout" onclick="doLogout()">Ã‡IKIÅ</button>
  </div>
  <div class="lobby-grid">
    <div class="stat-card"><div class="stat-icon">ğŸ®</div><div class="stat-val" id="s-games">0</div><div class="stat-lbl">Oyun</div></div>
    <div class="stat-card"><div class="stat-icon">ğŸ†</div><div class="stat-val" id="s-wins">0</div><div class="stat-lbl">Galibiyet</div></div>
    <div class="stat-card"><div class="stat-icon">â­</div><div class="stat-val" id="s-xp">0</div><div class="stat-lbl">XP</div></div>
    <div class="stat-card"><div class="stat-icon">ğŸ’°</div><div class="stat-val" id="s-money">0</div><div class="stat-lbl">Coin</div></div>
  </div>
  <div class="xp-section">
    <div class="xp-header"><div class="xp-level" id="xp-level-display">SEVÄ°YE 1</div><div class="xp-text" id="xp-progress-text">0 / 500 XP</div></div>
    <div class="xp-bar-bg"><div class="xp-bar-fill" id="xp-bar" style="width:0%"></div></div>
  </div>
  <div class="lobby-main">
    <button class="btn-play" onclick="startGame()"><div>ğŸ¯ OYNA</div><div class="btn-play-sub">KÄ°M MÄ°LYONER OLMAK Ä°STER?</div></button>
    <div class="side-buttons">
      <button class="btn-side gold" onclick="openLeaderboard()">ğŸ… SIRALAMALAR</button>
      <button class="btn-side purple" onclick="openShop()">ğŸ›’ MAÄAZA</button>
      <button class="btn-side blue" onclick="openVoiceSettings()">ğŸ™ï¸ SES AYARLARI</button>
      <button class="btn-side" id="admin-btn" style="color:var(--text2);display:none" onclick="openAdmin()">âš™ï¸ ADMÄ°N</button>
    </div>
  </div>
</div>

<!-- GAME -->
<div id="game-screen" class="screen hidden">
  <div class="game-top">
    <div class="money-ladder">ğŸ’° <span id="g-prize">0</span></div>
    <div class="timer-wrap">
      <div>
        <div class="timer-circle" id="timer-circle" style="--pct:100%"><span id="timer-num">30</span></div>
        <div class="timer-lbl" id="timer-lbl">SÃœRE</div>
      </div>
    </div>
    <div class="game-score-panel">
      <div class="gscore-item"><div class="gscore-lbl">SORU</div><div class="gscore-val" id="g-qnum">1/15</div></div>
      <div class="gscore-item"><div class="gscore-lbl">XP</div><div class="gscore-val" id="g-xp">+0</div></div>
    </div>
    <button class="btn-exit" onclick="exitGame()">âœ• Ã‡IKIÅ</button>
  </div>
  <div class="barriers" id="barriers-bar"></div>
  <div class="question-area" id="question-area">
    <div class="q-meta"><div class="q-number" id="q-num-label">SORU 1</div><div class="q-diff" id="q-diff-badge">KOLAY</div></div>
    <div class="q-text" id="q-text">Soru yÃ¼kleniyor...</div>
    <div id="audience-result"></div>
    <div id="phone-result"></div>
  </div>
  <div class="answers-grid" id="answers-grid"></div>
  <div class="game-status" id="game-status">Oyun baÅŸladÄ±!</div>
  <div class="jokers-bar">
    <div style="font-size:0.72rem;color:var(--text2);letter-spacing:2px;">JOKERLER:</div>
    <button class="joker-btn" id="j-fifty" onclick="useJoker('fifty')">âš¡ %50</button>
    <button class="joker-btn" id="j-audience" onclick="useJoker('audience')">ğŸ‘¥ SEYÄ°RCÄ°</button>
    <button class="joker-btn" id="j-phone" onclick="useJoker('phone')">ğŸ“ TELEFON</button>
    <button class="joker-btn" id="j-withdraw" onclick="withdrawGame()" style="background:rgba(255,215,0,0.1);border-color:rgba(255,215,0,0.4);color:var(--gold);">ğŸ’° Ã‡EKÄ°L</button>
  </div>
</div>

<!-- MODALS -->
<div class="modal-overlay hidden" id="modal-voice">
  <div class="modal" style="max-width:500px">
    <div class="modal-title" style="color:var(--blue)">ğŸ™ï¸ SES AYARLARI</div>
    <div class="modal-sub">CihazÄ±nÄ±zdaki tÃ¼m sesler</div>
    <div id="voice-list" style="max-height:55vh;overflow-y:auto;padding-right:4px"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:16px">
      <button class="btn-modal-secondary" onclick="speechSynthesis.cancel();closeModal('modal-voice')">Ä°PTAL</button>
      <button class="btn-modal-primary" onclick="saveVoiceSettings()">KAYDET</button>
    </div>
  </div>
</div>

<div class="modal-overlay hidden" id="modal-gameover">
  <div class="modal" id="modal-gameover-inner">
    <div style="font-size:3.5rem;text-align:center;margin-bottom:12px" id="go-icon">ğŸ†</div>
    <div class="modal-title" id="go-title">TEBRÄ°KLER!</div>
    <div class="modal-sub" id="go-sub">Harika performans!</div>
    <div class="modal-scores">
      <div class="modal-sc"><div class="modal-sc-lbl">SORULAR</div><div class="modal-sc-val" id="go-qright">0</div></div>
      <div class="modal-sc"><div class="modal-sc-lbl">KAZANÃ‡</div><div class="modal-sc-val" id="go-prize">0</div></div>
    </div>
    <div class="modal-reward" id="go-reward">+0 XP Â· +0 Coin</div>
    <div class="modal-btns">
      <button class="btn-modal-primary" onclick="startGame()">TEKRAR OYNA</button>
      <button class="btn-modal-secondary" onclick="goLobby()">ANA MENÃœ</button>
    </div>
  </div>
</div>

<div class="modal-overlay hidden" id="modal-lb">
  <div class="modal" style="max-width:520px">
    <div class="modal-title" style="color:var(--gold)">ğŸ… SIRALAMALAR</div>
    <div class="modal-sub">XP Tablosu â€” CanlÄ±</div>
    <div class="lb-list" id="lb-list"></div>
    <button class="btn-modal-full" onclick="closeModal('modal-lb')">KAPAT</button>
  </div>
</div>

<div class="modal-overlay hidden" id="modal-shop">
  <div class="modal" style="max-width:520px">
    <div class="modal-title" style="color:var(--purple)">ğŸ›’ MAÄAZA</div>
    <div class="modal-sub">Bakiye: ğŸ’° <span id="shop-balance">0</span></div>
    <div class="shop-grid" id="shop-grid"></div>
    <button class="btn-modal-full" onclick="closeModal('modal-shop')">KAPAT</button>
  </div>
</div>

<div class="modal-overlay hidden" id="modal-profile">
  <div class="modal">
    <div class="modal-title" id="prof-title" style="color:var(--blue)">PROFÄ°L</div>
    <div class="profile-avatar-big" id="prof-avatar">?</div>
    <div class="profile-stat-row">
      <div class="profile-stat"><div class="profile-stat-v" id="prof-games">0</div><div class="profile-stat-l">Oyun</div></div>
      <div class="profile-stat"><div class="profile-stat-v" id="prof-wins">0</div><div class="profile-stat-l">Galibiyet</div></div>
      <div class="profile-stat"><div class="profile-stat-v" id="prof-wr">0%</div><div class="profile-stat-l">WR</div></div>
    </div>
    <div class="xp-section" style="margin-bottom:16px">
      <div class="xp-header"><div class="xp-level" id="prof-level">SEVÄ°YE 1</div><div class="xp-text" id="prof-xp-txt">0 / 500 XP</div></div>
      <div class="xp-bar-bg"><div class="xp-bar-fill" id="prof-xp-bar" style="width:0%"></div></div>
    </div>
    <div id="prof-items" style="font-size:0.82rem;color:var(--text2);text-align:center;margin-bottom:16px"></div>
    <button class="btn-modal-full" onclick="closeModal('modal-profile')">KAPAT</button>
  </div>
</div>

<div class="modal-overlay hidden" id="modal-admin">
  <div class="modal" style="max-width:560px">
    <div class="modal-title" style="color:var(--blue)">âš™ï¸ ADMÄ°N PANELÄ°</div>
    <div class="auth-tabs" style="margin-bottom:20px">
      <button class="auth-tab active" id="adm-tab-coins" onclick="adminTab('coins')">ğŸ’° KULLANICI</button>
      <button class="auth-tab" id="adm-tab-questions" onclick="adminTab('questions')">â“ SORULAR</button>
    </div>

    <!-- COIN YÃ–NETÄ°MÄ° -->
    <div id="adm-panel-coins">
      <div class="section-title">KullanÄ±cÄ± YÃ¶netimi</div>
      <div id="adm-user-list" style="max-height:420px;overflow-y:auto;">
        <div style="text-align:center;color:var(--text2);padding:20px">YÃ¼kleniyor...</div>
      </div>
    </div>

    <!-- SORU YÃ–NETÄ°MÄ° -->
    <div id="adm-panel-questions" class="hidden">
      <div class="admin-form">
        <div class="form-group"><label class="form-label">Soru Metni</label><textarea class="form-input" id="adm-q" placeholder="Soru metni..." style="min-height:60px;resize:vertical"></textarea></div>
        <div class="form-group"><label class="form-label">A ÅÄ±kkÄ± (DoÄŸru cevap)</label><input class="form-input" id="adm-a" placeholder="DoÄŸru cevap"></div>
        <div class="form-group"><label class="form-label">B ÅÄ±kkÄ±</label><input class="form-input" id="adm-b" placeholder="YanlÄ±ÅŸ ÅŸÄ±k"></div>
        <div class="form-group"><label class="form-label">C ÅÄ±kkÄ±</label><input class="form-input" id="adm-c" placeholder="YanlÄ±ÅŸ ÅŸÄ±k"></div>
        <div class="form-group"><label class="form-label">D ÅÄ±kkÄ±</label><input class="form-input" id="adm-d" placeholder="YanlÄ±ÅŸ ÅŸÄ±k"></div>
        <div class="form-group"><label class="form-label">Zorluk</label><select class="form-input" id="adm-diff"><option value="easy">Kolay (1-5)</option><option value="medium">Orta (6-10)</option><option value="hard">Zor (11-15)</option></select></div>
        <button class="btn-auth" onclick="adminAddQ()">SORU EKLE</button>
      </div>
      <div class="admin-q-list" id="adm-q-list"></div>
    </div>

    <button class="btn-modal-full" onclick="closeModal('modal-admin')">KAPAT</button>
  </div>
</div>

<!-- FIREBASE SDK -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, setPersistence, browserLocalPersistence, browserSessionPersistence } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
import { getFirestore, doc, getDoc, setDoc, updateDoc, collection, getDocs, query, orderBy, limit, onSnapshot, addDoc, deleteDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyC5FaCS2m8Ko2O6Tqf6NkpV4wmg0yXqduA",
  authDomain: "quziora.firebaseapp.com",
  projectId: "quziora",
  storageBucket: "quziora.firebasestorage.app",
  messagingSenderId: "644228148321",
  appId: "1:644228148321:web:45d383e9465811af6d0e20",
  measurementId: "G-2Y93PDR1FG"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// â”€â”€â”€ Firebase helpers global olarak eriÅŸ â”€â”€â”€
window._FB = { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, setPersistence, browserLocalPersistence, browserSessionPersistence, doc, getDoc, setDoc, updateDoc, collection, getDocs, query, orderBy, limit, onSnapshot, addDoc, deleteDoc, serverTimestamp };

// â”€â”€â”€ Auth state deÄŸiÅŸince â”€â”€â”€
let _userDocUnsub = null;

onAuthStateChanged(auth, async (user) => {
  if (user) {
    window._currentUID = user.uid;
    await window._loadUserData(user.uid);
    document.getElementById('loading-screen').classList.add('hidden');
    enterLobby();

    // KullanÄ±cÄ± belgesini gerÃ§ek zamanlÄ± dinle (coin/xp anÄ±nda yansÄ±sÄ±n)
    if (_userDocUnsub) _userDocUnsub();
    _userDocUnsub = onSnapshot(doc(db, 'users', user.uid), (snap) => {
      if (snap.exists()) {
        const prev = window._userData ? window._userData.coins : 0;
        window._userData = snap.data();
        const curr = window._userData.coins || 0;
        // Admin coin eklediyse bildirim gÃ¶ster
        if (prev !== undefined && curr > prev) {
          const diff = curr - prev;
          if (typeof toast !== 'undefined') {
            toast(`ğŸ HesabÄ±na ${diff.toLocaleString()} coin eklendi!`, 'gold');
          }
        }
        if (typeof updateLobbyUI !== 'undefined') updateLobbyUI();
      }
    });
  } else {
    window._currentUID = null;
    window._userData = null;
    if (_userDocUnsub) { _userDocUnsub(); _userDocUnsub = null; }
    document.getElementById('loading-screen').classList.add('hidden');
    showScreen('auth');
  }
});

// Sorular koleksiyonunu dinle (realtime)
window._listenQuestions = function() {
  const q = query(collection(db, 'questions'));
  return onSnapshot(q, (snap) => {
    window._cachedQuestions = snap.docs.map(d => ({ id: d.id, ...d.data() }));
  });
};

window._listenQuestions();

// YÃ¼kleme status
document.getElementById('loading-status').textContent = 'BAÄLANIYOR...';
</script>

<script>
// =====================================================================
// QUIZORA â€” FIREBASE GAME ENGINE
// =====================================================================

// â”€â”€â”€ KullanÄ±cÄ± verisi â”€â”€â”€
window._userData = null;
window._currentUID = null;
window._cachedQuestions = null;

window._loadUserData = async function(uid) {
  const { db, doc, getDoc } = window._FB;
  const snap = await getDoc(doc(db, 'users', uid));
  if (snap.exists()) {
    window._userData = snap.data();
  }
  return window._userData;
};

window._saveUserData = async function(updates) {
  if (!window._currentUID) return;
  const { db, doc, updateDoc } = window._FB;
  Object.assign(window._userData, updates);
  await updateDoc(doc(db, 'users', window._currentUID), updates);
};

// â”€â”€â”€ Stars â”€â”€â”€
(function() {
  const c = document.getElementById('bg-stars');
  for (let i = 0; i < 80; i++) {
    const s = document.createElement('div');
    s.className = 'star';
    s.style.cssText = `left:${Math.random()*100}%;top:${Math.random()*100}%;width:${1+Math.random()*2}px;height:${1+Math.random()*2}px;--d:${2+Math.random()*4}s;--op:${0.3+Math.random()*0.5};animation-delay:${Math.random()*5}s;`;
    c.appendChild(s);
  }
})();

// â”€â”€â”€ Levels / XP â”€â”€â”€
const LEVELS = [
  {level:1,name:'Ã‡aylak',min:0,max:500},
  {level:2,name:'Acemi',min:500,max:1500},
  {level:3,name:'Oyuncu',min:1500,max:3000},
  {level:4,name:'Usta',min:3000,max:5500},
  {level:5,name:'Uzman',min:5500,max:9000},
  {level:6,name:'Efsane',min:9000,max:14000},
  {level:7,name:'Grandmaster',min:14000,max:21000},
  {level:8,name:'TanrÄ±',min:21000,max:Infinity}
];
function getLevelInfo(xp) {
  let lv = LEVELS[0];
  for (const l of LEVELS) { if (xp >= l.min) lv = l; else break; }
  return lv;
}
function getXpPercent(xp) {
  const lv = getLevelInfo(xp);
  if (lv.max === Infinity) return 100;
  return Math.round(((xp - lv.min) / (lv.max - lv.min)) * 100);
}

const XP_TABLE = [5,5,8,8,10,12,15,18,20,25,30,35,40,50,75];
const PRIZE_TABLE = [100,200,300,500,1000,2000,4000,8000,16000,32000,64000,125000,250000,500000,1000000];
const COIN_TABLE = [10,15,20,30,50,80,120,180,250,350,500,700,1000,1500,2500];
const BARRIERS = [4,9];

// â”€â”€â”€ Default Questions (450 adet) â”€â”€â”€
const DEFAULT_QUESTIONS = [
// â•â•â•â•â•â•â•â•â•â• KOLAY (150) â•â•â•â•â•â•â•â•â•â•
{q:"TÃ¼rkiye'nin baÅŸkenti hangisidir?",a:["Ankara","Ä°stanbul","Ä°zmir","Bursa"],correct:0,diff:"easy"},
{q:"GÃ¼neÅŸ sistemimizdeki en bÃ¼yÃ¼k gezegen hangisidir?",a:["SatÃ¼rn","NeptÃ¼n","JÃ¼piter","UranÃ¼s"],correct:2,diff:"easy"},
{q:"Su'nun kimyasal formÃ¼lÃ¼ nedir?",a:["CO2","H2O","O2","NaCl"],correct:1,diff:"easy"},
{q:"En bÃ¼yÃ¼k okyanus hangisidir?",a:["Atlantik","Hint","Kuzey Buz","Pasifik"],correct:3,diff:"easy"},
{q:"Mona Lisa tablosunu kim yapmÄ±ÅŸtÄ±r?",a:["Michelangelo","Leonardo da Vinci","Picasso","Rembrandt"],correct:1,diff:"easy"},
{q:"Hangi hayvan 'OrmanÄ±n KralÄ±' olarak bilinir?",a:["Kaplan","Aslan","Leopar","Panter"],correct:1,diff:"easy"},
{q:"Bir yÄ±lda kaÃ§ ay vardÄ±r?",a:["10","11","12","13"],correct:2,diff:"easy"},
{q:"Haftada kaÃ§ gÃ¼n vardÄ±r?",a:["5","6","7","8"],correct:2,diff:"easy"},
{q:"TÃ¼rkiye hangi kÄ±tada yer alÄ±r?",a:["Afrika","Asya/Avrupa","Okyanusya","Amerika"],correct:1,diff:"easy"},
{q:"GÃ¶kkuÅŸaÄŸÄ±nda kaÃ§ renk vardÄ±r?",a:["5","6","7","8"],correct:2,diff:"easy"},
{q:"Hangi meyve sarÄ± renklidir ve maymunlarÄ±n favori meyvesidir?",a:["Elma","Portakal","Muz","ÃœzÃ¼m"],correct:2,diff:"easy"},
{q:"Bir saatte kaÃ§ dakika vardÄ±r?",a:["30","45","60","90"],correct:2,diff:"easy"},
{q:"TÃ¼rkiye'nin para birimi nedir?",a:["Euro","Dolar","Lira","Pound"],correct:2,diff:"easy"},
{q:"Hangi gezegen 'KÄ±zÄ±l Gezegen' olarak bilinir?",a:["VenÃ¼s","Mars","JÃ¼piter","SatÃ¼rn"],correct:1,diff:"easy"},
{q:"DÃ¼nyanÄ±n en uzun nehri hangisidir?",a:["Amazon","Nil","Yangtze","Mississippi"],correct:1,diff:"easy"},
{q:"Hangi hayvan en yavaÅŸ hareket ettiÄŸiyle bilinir?",a:["KaplumbaÄŸa","Tembel Hayvan","Salyangoz","BalÄ±k"],correct:1,diff:"easy"},
{q:"Futbolda bir takÄ±mda kaÃ§ oyuncu bulunur?",a:["9","10","11","12"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lke Eyfel Kulesi'ne ev sahipliÄŸi yapar?",a:["Ä°talya","Ä°spanya","Fransa","Almanya"],correct:2,diff:"easy"},
{q:"Ä°nsan vÃ¼cudunda kaÃ§ gÃ¶z vardÄ±r?",a:["1","2","3","4"],correct:1,diff:"easy"},
{q:"Hangi renk gÃ¼neÅŸi simgeler?",a:["Mavi","YeÅŸil","SarÄ±","KÄ±rmÄ±zÄ±"],correct:2,diff:"easy"},
{q:"Ekmek hangi undan yapÄ±lÄ±r?",a:["MÄ±sÄ±r","PirinÃ§","BuÄŸday","Arpa"],correct:2,diff:"easy"},
{q:"DÃ¼nya'nÄ±n uydusu nedir?",a:["Mars","Ay","GÃ¼neÅŸ","VenÃ¼s"],correct:1,diff:"easy"},
{q:"Hangi mevsimde kar yaÄŸar?",a:["Ä°lkbahar","Yaz","Sonbahar","KÄ±ÅŸ"],correct:3,diff:"easy"},
{q:"TÃ¼rkiye'nin en bÃ¼yÃ¼k ÅŸehri hangisidir?",a:["Ankara","Ä°zmir","Ä°stanbul","Bursa"],correct:2,diff:"easy"},
{q:"Hangi hayvan 'Ã‡Ã¶l Gemisi' olarak bilinir?",a:["At","Fil","Deve","ZÃ¼rafa"],correct:2,diff:"easy"},
{q:"Bir dakikada kaÃ§ saniye vardÄ±r?",a:["30","60","90","120"],correct:1,diff:"easy"},
{q:"Hangi sporda raket kullanÄ±lÄ±r?",a:["Futbol","Tenis","Basketbol","YÃ¼zme"],correct:1,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Roma'dÄ±r?",a:["Ä°spanya","Portekiz","Ä°talya","Yunanistan"],correct:2,diff:"easy"},
{q:"Suyun donma noktasÄ± kaÃ§ derecedir?",a:["-10Â°C","0Â°C","10Â°C","100Â°C"],correct:1,diff:"easy"},
{q:"Hangi renk gÃ¶kyÃ¼zÃ¼nÃ¼n rengidir?",a:["YeÅŸil","SarÄ±","Mavi","Mor"],correct:2,diff:"easy"},
{q:"Portakal hangi vitaminle zengindir?",a:["A","B","C","D"],correct:2,diff:"easy"},
{q:"DÃ¼nyanÄ±n en bÃ¼yÃ¼k Ã§Ã¶lÃ¼ hangisidir?",a:["Gobi","Kalahari","Arabistan","Sahra"],correct:3,diff:"easy"},
{q:"Hangi sporda 'ÅŸut' atÄ±lÄ±r?",a:["Voleybol","Basketbol","Tenis","YÃ¼zme"],correct:1,diff:"easy"},
{q:"Ä°stanbul BoÄŸazÄ± hangi iki denizi birleÅŸtirir?",a:["Karadeniz - Akdeniz","Karadeniz - Marmara","Ege - Akdeniz","Adriyatik - Ege"],correct:1,diff:"easy"},
{q:"Hangi hayvan uÃ§ar ama kuÅŸ deÄŸildir?",a:["Penguen","Yarasa","DevekuÅŸu","Tavuk"],correct:1,diff:"easy"},
{q:"Bir yÄ±lda kaÃ§ hafta vardÄ±r?",a:["48","50","52","54"],correct:2,diff:"easy"},
{q:"Hangi element en hafiftir?",a:["Helyum","Hidrojen","Lityum","Karbon"],correct:1,diff:"easy"},
{q:"Hangi Ã¼lkede Ã§ay en Ã§ok tÃ¼ketilir?",a:["Ä°ngiltere","Ã‡in","Hindistan","TÃ¼rkiye"],correct:3,diff:"easy"},
{q:"Hangi organda kan pompalanÄ±r?",a:["KaraciÄŸer","BÃ¶brek","Kalp","AkciÄŸer"],correct:2,diff:"easy"},
{q:"Hangi meyve kÄ±rmÄ±zÄ± ve yuvarlaktÄ±r?",a:["Muz","Elma","Armut","Kavun"],correct:1,diff:"easy"},
{q:"DÃ¼nyanÄ±n en yÃ¼ksek daÄŸÄ± hangisidir?",a:["K2","Everest","Kilimanjaro","Mont Blanc"],correct:1,diff:"easy"},
{q:"Hangi Ã¼lke piramitlerle Ã¼nlÃ¼dÃ¼r?",a:["Irak","Meksika","MÄ±sÄ±r","Ä°ran"],correct:2,diff:"easy"},
{q:"Hangi araÃ§ havada uÃ§ar?",a:["Tekne","Tren","UÃ§ak","OtobÃ¼s"],correct:2,diff:"easy"},
{q:"TÃ¼rk bayraÄŸÄ±nda kaÃ§ renk vardÄ±r?",a:["1","2","3","4"],correct:1,diff:"easy"},
{q:"Hangi yiyecek bal Ã¼retir?",a:["ArÄ±","KarÄ±nca","Kelebek","Sinek"],correct:0,diff:"easy"},
{q:"Hangi Ã¼lke Ã§ini icad etmiÅŸtir?",a:["Japonya","Kore","Ã‡in","Hindistan"],correct:2,diff:"easy"},
{q:"Bir gÃ¼nde kaÃ§ saat vardÄ±r?",a:["12","20","24","36"],correct:2,diff:"easy"},
{q:"Hangi hayvan en bÃ¼yÃ¼k kara hayvanÄ±dÄ±r?",a:["ZÃ¼rafa","Gergedan","Fil","Aslan"],correct:2,diff:"easy"},
{q:"Kemiklerden oluÅŸan sisteme ne denir?",a:["Kas sistemi","Ä°skelet sistemi","Sinir sistemi","DolaÅŸÄ±m sistemi"],correct:1,diff:"easy"},
{q:"Hangi mevsimde Ã§iÃ§ekler aÃ§ar?",a:["KÄ±ÅŸ","Sonbahar","Yaz","Ä°lkbahar"],correct:3,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Tokyo'dur?",a:["Ã‡in","Kore","Japonya","Vietnam"],correct:2,diff:"easy"},
{q:"Hangi sporda 'servis' atÄ±lÄ±r?",a:["Futbol","Voleybol","Basketbol","Golf"],correct:1,diff:"easy"},
{q:"Ä°nsan vÃ¼cudunun en bÃ¼yÃ¼k organÄ± hangisidir?",a:["Kalp","Beyin","KaraciÄŸer","Deri"],correct:3,diff:"easy"},
{q:"Hangi gezegen halkalarÄ±yla Ã¼nlÃ¼dÃ¼r?",a:["JÃ¼piter","Mars","SatÃ¼rn","UranÃ¼s"],correct:2,diff:"easy"},
{q:"Hangi renk yapraÄŸÄ±n rengidir?",a:["Mavi","SarÄ±","YeÅŸil","KÄ±rmÄ±zÄ±"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkede BÃ¼yÃ¼k Duvar bulunur?",a:["Japonya","Hindistan","Ã‡in","Kore"],correct:2,diff:"easy"},
{q:"Suyun kaynama noktasÄ± kaÃ§ derecedir?",a:["80Â°C","90Â°C","100Â°C","120Â°C"],correct:2,diff:"easy"},
{q:"Hangi sporda pas verilir?",a:["Tenis","Atletizm","Futbol","YÃ¼zme"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkede kangaroo yaÅŸar?",a:["Yeni Zelanda","Brezilya","Avustralya","Afrika"],correct:2,diff:"easy"},
{q:"Hangi renk karanlÄ±ÄŸÄ± temsil eder?",a:["Beyaz","Gri","SarÄ±","Siyah"],correct:3,diff:"easy"},
{q:"TÃ¼rkiye'nin gÃ¼ney kÄ±yÄ±sÄ±nÄ± hangi deniz yÄ±kar?",a:["Karadeniz","Ege","Marmara","Akdeniz"],correct:3,diff:"easy"},
{q:"Hangi hayvan 'HÄ±z' sembolÃ¼dÃ¼r?",a:["Aslan","Ã‡ita","Kaplan","Kurt"],correct:1,diff:"easy"},
{q:"Hangi meyve mor renklidir?",a:["Elma","Portakal","ÃœzÃ¼m","Kavun"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkenin bayraÄŸÄ±nda yÄ±ldÄ±z ve ay vardÄ±r?",a:["TÃ¼rkiye","Ä°talya","Fransa","Almanya"],correct:0,diff:"easy"},
{q:"DÃ¼nya'nÄ±n en bÃ¼yÃ¼k kÄ±tasÄ± hangisidir?",a:["Afrika","Amerika","Avrupa","Asya"],correct:3,diff:"easy"},
{q:"Hangi hayvan aÄŸ Ã¶rer?",a:["ArÄ±","KarÄ±nca","Ã–rÃ¼mcek","Sinek"],correct:2,diff:"easy"},
{q:"Hangi organda sindirim baÅŸlar?",a:["Mide","BaÄŸÄ±rsak","AÄŸÄ±z","KaraciÄŸer"],correct:2,diff:"easy"},
{q:"Hangi renkten yeÅŸil elde edilir?",a:["KÄ±rmÄ±zÄ± + Mavi","SarÄ± + Mavi","SarÄ± + KÄ±rmÄ±zÄ±","Mavi + Beyaz"],correct:1,diff:"easy"},
{q:"Hangi Ã¼lkede Nil nehri akar?",a:["Libya","MÄ±sÄ±r","Sudan","Nijer"],correct:1,diff:"easy"},
{q:"Hangi hayvan suda yaÅŸar?",a:["Kurt","Aslan","BalÄ±k","Kartal"],correct:2,diff:"easy"},
{q:"Bir haftada kaÃ§ gÃ¼n hafta sonu vardÄ±r?",a:["1","2","3","4"],correct:1,diff:"easy"},
{q:"Hangi alet zamanÄ± Ã¶lÃ§er?",a:["Cetvel","Saat","Termometre","Terazi"],correct:1,diff:"easy"},
{q:"Hangi renk tehlike simgesidir?",a:["Mavi","YeÅŸil","KÄ±rmÄ±zÄ±","SarÄ±"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkede Amazon ormanlarÄ± bulunur?",a:["Arjantin","Kolombiya","Brezilya","Peru"],correct:2,diff:"easy"},
{q:"Hangi sporda raket ve top kullanÄ±lÄ±r?",a:["Futbol","Masatenisi","Basketbol","YÃ¼zme"],correct:1,diff:"easy"},
{q:"Hangi gezegen GÃ¼neÅŸ'e en yakÄ±ndÄ±r?",a:["VenÃ¼s","Mars","MerkÃ¼r","DÃ¼nya"],correct:2,diff:"easy"},
{q:"Hangi metal en iyi iletkendir?",a:["Demir","BakÄ±r","GÃ¼mÃ¼ÅŸ","AltÄ±n"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Paris'tir?",a:["BelÃ§ika","Ä°sviÃ§re","Fransa","Hollanda"],correct:2,diff:"easy"},
{q:"Hangi hayvan sÃ¼rÃ¼nerek ilerler?",a:["KuÅŸ","BalÄ±k","YÄ±lan","Kartal"],correct:2,diff:"easy"},
{q:"Hangi yiyecekte protein boldur?",a:["Meyve","Et","Åeker","YaÄŸ"],correct:1,diff:"easy"},
{q:"TÃ¼rkiye'nin kaÃ§ ili vardÄ±r?",a:["71","79","81","85"],correct:2,diff:"easy"},
{q:"Hangi element gÃ¼neÅŸte en bol bulunur?",a:["Oksijen","Helyum","Hidrojen","Karbon"],correct:2,diff:"easy"},
{q:"Hangi sporda 'file' kullanÄ±lÄ±r?",a:["Futbol","Tenis","Golf","Atletizm"],correct:1,diff:"easy"},
{q:"Hangi hayvan 'Asya'nÄ±n simgesi' olarak kabul edilir?",a:["Aslan","Kaplan","Fil","Gergedan"],correct:2,diff:"easy"},
{q:"Hangi gezegen GÃ¼neÅŸ'e en uzaktÄ±r?",a:["SatÃ¼rn","UranÃ¼s","NeptÃ¼n","JÃ¼piter"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Berlin'dir?",a:["Avusturya","Hollanda","Ä°sviÃ§re","Almanya"],correct:3,diff:"easy"},
{q:"Hangi organ gÃ¶rme iÅŸlevi gÃ¶rÃ¼r?",a:["Kulak","Burun","GÃ¶z","Dil"],correct:2,diff:"easy"},
{q:"Hangi kÄ±ta en kÃ¼Ã§Ã¼ktÃ¼r?",a:["Avrupa","Okyanusya","Antarktika","Afrika"],correct:1,diff:"easy"},
{q:"Hangi renk saÄŸlÄ±k simgesidir?",a:["KÄ±rmÄ±zÄ±","SarÄ±","YeÅŸil","Mavi"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkede Kolosseum bulunur?",a:["Yunanistan","Ä°talya","Ä°spanya","TÃ¼rkiye"],correct:1,diff:"easy"},
{q:"Hangi hayvan 'Kutup AyÄ±sÄ±' olarak bilinir?",a:["Panda","Koala","Polar Bear","Grizzly"],correct:2,diff:"easy"},
{q:"Hangi alet Ä±sÄ±yÄ± Ã¶lÃ§er?",a:["Barometer","Termometre","Higrometer","Voltmetre"],correct:1,diff:"easy"},
{q:"Hangi meyve yeÅŸil renklidir?",a:["Ã‡ilek","Karpuz kabuÄŸu","Muz","Portakal"],correct:1,diff:"easy"},
{q:"TÃ¼rkiye'nin batÄ±sÄ±nda hangi Ã¼lke bulunur?",a:["Ä°ran","Irak","Yunanistan","Suriye"],correct:2,diff:"easy"},
{q:"Hangi hayvan en uzun boyunlu kara hayvanÄ±dÄ±r?",a:["Fil","Deve","ZÃ¼rafa","At"],correct:2,diff:"easy"},
{q:"Hangi sporda 'gol' atÄ±lÄ±r?",a:["Tenis","Basketbol","Futbol","Voleybol"],correct:2,diff:"easy"},
{q:"Hangi element havada en bol bulunur?",a:["Oksijen","Argon","Karbon","Azot"],correct:3,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Madrid'dir?",a:["Portekiz","Fransa","Ä°spanya","Ä°talya"],correct:2,diff:"easy"},
{q:"Hangi organ duyma iÅŸlevi gÃ¶rÃ¼r?",a:["GÃ¶z","Dil","Burun","Kulak"],correct:3,diff:"easy"},
{q:"Hangi Ã¼lkede Taj Mahal bulunur?",a:["Pakistan","BangladeÅŸ","Hindistan","Nepal"],correct:2,diff:"easy"},
{q:"Hangi hayvan 'Brezilya'nÄ±n simgesi' olarak bilinir?",a:["Jaguar","Kartal","PapaÄŸan","Maymun"],correct:0,diff:"easy"},
{q:"Bir yÄ±lda kaÃ§ gÃ¼n vardÄ±r?",a:["350","360","365","370"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkede Stonehenge bulunur?",a:["Ä°rlanda","Fransa","Ä°ngiltere","Ä°skoÃ§ya"],correct:2,diff:"easy"},
{q:"Hangi renk denizi simgeler?",a:["YeÅŸil","SarÄ±","Mavi","Mor"],correct:2,diff:"easy"},
{q:"Hangi sporda 'sayÄ±' kazanÄ±lÄ±r?",a:["Tenis","Basketbol","Futbol","YÃ¼zme"],correct:1,diff:"easy"},
{q:"Hangi Ã¼lkede Mount Fuji bulunur?",a:["Ã‡in","Kore","Japonya","Vietnam"],correct:2,diff:"easy"},
{q:"Hangi hayvan penguendir?",a:["UÃ§an kuÅŸ","SÃ¼rÃ¼ngen","Memeli","UÃ§amayan kuÅŸ"],correct:3,diff:"easy"},
{q:"Hangi Ã¼lkede Akropolis bulunur?",a:["Ä°talya","TÃ¼rkiye","Yunanistan","MÄ±sÄ±r"],correct:2,diff:"easy"},
{q:"Hangi sporda 'kÃ¼rek' Ã§ekilir?",a:["Rafting","Kayak","Yelken","Rowing"],correct:3,diff:"easy"},
{q:"Hangi meyve Ã§ekirdeksizdir?",a:["Kiraz","Åeftali","Muz","Erik"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkede Acropolis bulunur?",a:["TÃ¼rkiye","Ä°talya","Ä°spanya","Yunanistan"],correct:3,diff:"easy"},
{q:"Hangi mevsimde yapraklar dÃ¶kÃ¼lÃ¼r?",a:["Ä°lkbahar","Yaz","Sonbahar","KÄ±ÅŸ"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Londra'dÄ±r?",a:["Ä°skoÃ§ya","Galler","Ä°rlanda","Ä°ngiltere"],correct:3,diff:"easy"},
{q:"Hangi hayvan en Ã§ok uyur?",a:["Aslan","Koala","Fil","At"],correct:1,diff:"easy"},
{q:"Hangi sporda 'smash' yapÄ±lÄ±r?",a:["Futbol","Tenis","Basketbol","YÃ¼zme"],correct:1,diff:"easy"},
{q:"Hangi Ã¼lkede KÄ±zÄ±l Meydan bulunur?",a:["Ã‡in","Polonya","Rusya","Ukrayna"],correct:2,diff:"easy"},
{q:"Hangi gezegen en kÃ¼Ã§Ã¼ktÃ¼r?",a:["Mars","VenÃ¼s","MerkÃ¼r","JÃ¼piter"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Atina'dÄ±r?",a:["Ä°talya","TÃ¼rkiye","Bulgaristan","Yunanistan"],correct:3,diff:"easy"},
{q:"Hangi hayvan 'Avustralya'nÄ±n simgesi'dir?",a:["Koala","Kanguru","Wombat","Dingo"],correct:1,diff:"easy"},
{q:"Hangi sporda 'topa kafa vurulur'?",a:["Basketbol","Voleybol","Futbol","Rugby"],correct:2,diff:"easy"},
{q:"Hangi element yanmaz?",a:["Hidrojen","Oksijen","Karbon","Azot"],correct:3,diff:"easy"},
{q:"Hangi Ã¼lkede Big Ben kulesi bulunur?",a:["Fransa","ABD","Ä°ngiltere","Almanya"],correct:2,diff:"easy"},
{q:"Hangi hayvan sÃ¼tÃ¼nden peynir yapÄ±lÄ±r?",a:["KeÃ§i","Ä°nek","Koyun","Hepsi"],correct:3,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Viyana'dÄ±r?",a:["Almanya","Ä°sviÃ§re","Avusturya","Ã‡ek Cumhuriyeti"],correct:2,diff:"easy"},
{q:"Hangi meyve Ã§ilek deÄŸildir?",a:["Ã‡ilek","Dut","BÃ¶ÄŸÃ¼rtlen","Domates"],correct:3,diff:"easy"},
{q:"Hangi Ã¼lkede Ayers Rock (Uluru) bulunur?",a:["Yeni Zelanda","Papua","Avustralya","Fiji"],correct:2,diff:"easy"},
{q:"Hangi sporda 'tramplen' kullanÄ±lÄ±r?",a:["YÃ¼zme","Cimnastik","Atletizm","Judo"],correct:1,diff:"easy"},
{q:"Hangi renk buz/kar rengidir?",a:["Gri","Mavi","Beyaz","SarÄ±"],correct:2,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Ankara'dÄ±r?",a:["Azerbaycan","Kazakistan","TÃ¼rkiye","Ã–zbekistan"],correct:2,diff:"easy"},
{q:"Hangi hayvan zehirli Ä±sÄ±rÄ±ÄŸÄ±yla bilinir?",a:["Kelebek","YÄ±lan","Ceylan","Geyik"],correct:1,diff:"easy"},
{q:"Hangi sporda 'at' kullanÄ±lÄ±r?",a:["Futbol","Tenis","Binicilik","YÃ¼zme"],correct:2,diff:"easy"},
{q:"Hangi element en aÄŸÄ±r metaldir?",a:["KurÅŸun","AltÄ±n","Platin","Osmiyum"],correct:3,diff:"easy"},
{q:"Hangi Ã¼lkenin baÅŸkenti Amsterdam'dÄ±r?",a:["BelÃ§ika","Hollanda","Danimarka","NorveÃ§"],correct:1,diff:"easy"},
{q:"Hangi meyve suyu sarÄ± renklidir?",a:["Domates","ÃœzÃ¼m","Portakal","Karpuz"],correct:2,diff:"easy"},
{q:"Hangi sporda 'halter' kullanÄ±lÄ±r?",a:["Futbol","Tenis","Halter/AÄŸÄ±rlÄ±k KaldÄ±rma","Basketbol"],correct:2,diff:"easy"},

// â•â•â•â•â•â•â•â•â•â• ORTA (150) â•â•â•â•â•â•â•â•â•â•
{q:"Hangi element periyodik tabloda 'Au' sembolÃ¼ ile gÃ¶sterilir?",a:["GÃ¼mÃ¼ÅŸ","Demir","AltÄ±n","BakÄ±r"],correct:2,diff:"medium"},
{q:"OsmanlÄ± Ä°mparatorluÄŸu hangi yÄ±lda kurulmuÅŸtur?",a:["1299","1453","1071","1389"],correct:0,diff:"medium"},
{q:"Pi sayÄ±sÄ±nÄ±n ilk 3 basamaÄŸÄ± nedir?",a:["3.14","3.16","3.12","3.18"],correct:0,diff:"medium"},
{q:"Ä°nsan vÃ¼cudunda kaÃ§ kemik bulunur?",a:["196","206","216","186"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lke 2022 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Fransa","Brezilya","Arjantin","HÄ±rvatistan"],correct:2,diff:"medium"},
{q:"DNA'nÄ±n aÃ§Ä±lÄ±mÄ± nedir?",a:["DioksiribonÃ¼kleik Asit","Dinitrojen Asit","Dikarbonokleik Asit","Difosfor Asit"],correct:0,diff:"medium"},
{q:"IÅŸÄ±ÄŸÄ±n hÄ±zÄ± saniyede kaÃ§ km'dir?",a:["200.000","299.792","350.000","150.000"],correct:1,diff:"medium"},
{q:"DÃ¼nya'dan sonra GÃ¼neÅŸ Sistemindeki kaÃ§Ä±ncÄ± gezegen Mars'tÄ±r?",a:["3.","4.","5.","2."],correct:1,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Fe' sembolÃ¼ ile gÃ¶sterilir?",a:["Flor","Fosfor","Demir","Fermiyum"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Nobel Ã–dÃ¼lleri verilir?",a:["Danimarka","Ä°sveÃ§","NorveÃ§","Finlandiya"],correct:1,diff:"medium"},
{q:"OsmanlÄ± Ä°mparatorluÄŸu hangi yÄ±lda sona ermiÅŸtir?",a:["1920","1922","1923","1924"],correct:1,diff:"medium"},
{q:"Hangi bilim insanÄ± izafiyet teorisini geliÅŸtirmiÅŸtir?",a:["Newton","Bohr","Einstein","Planck"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Ag' sembolÃ¼ ile gÃ¶sterilir?",a:["AltÄ±n","GÃ¼mÃ¼ÅŸ","Baryum","Arsenik"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lkede Kyoto ÅŸehri bulunur?",a:["Ã‡in","Kore","Japonya","Vietnam"],correct:2,diff:"medium"},
{q:"Hangi organ insÃ¼lin Ã¼retir?",a:["KaraciÄŸer","BÃ¶brek","Pankreas","Dalak"],correct:2,diff:"medium"},
{q:"TÃ¼rkiye Cumhuriyeti hangi yÄ±lda kurulmuÅŸtur?",a:["1919","1920","1921","1923"],correct:3,diff:"medium"},
{q:"Hangi bilim insanÄ± yerÃ§ekimi yasasÄ±nÄ± formÃ¼le etmiÅŸtir?",a:["Galileo","Copernicus","Newton","Kepler"],correct:2,diff:"medium"},
{q:"Hangi element en iyi Ä±sÄ± iletkenidir?",a:["Demir","BakÄ±r","GÃ¼mÃ¼ÅŸ","AlÃ¼minyum"],correct:2,diff:"medium"},
{q:"Hangi savaÅŸ 1914-1918 yÄ±llarÄ± arasÄ±nda yaÅŸandÄ±?",a:["Napolyon SavaÅŸlarÄ±","1. DÃ¼nya SavaÅŸÄ±","2. DÃ¼nya SavaÅŸÄ±","SoÄŸuk SavaÅŸ"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lkede Amazon Nehri'nin bÃ¼yÃ¼k bÃ¶lÃ¼mÃ¼ akar?",a:["Kolombiya","Peru","Venezuela","Brezilya"],correct:3,diff:"medium"},
{q:"Hangi bilim insanÄ± elektriÄŸi keÅŸfetmiÅŸtir?",a:["Edison","Franklin","Faraday","Tesla"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lkede Eiffel Kulesi bulunur?",a:["Ä°talya","Ä°spanya","Fransa","Almanya"],correct:2,diff:"medium"},
{q:"Ä°nsan vÃ¼cudunda kaÃ§ tane ana kan grubu vardÄ±r?",a:["2","3","4","5"],correct:2,diff:"medium"},
{q:"Hangi gezegen 'Mavi Gezegen' olarak bilinir?",a:["VenÃ¼s","NeptÃ¼n","UranÃ¼s","DÃ¼nya"],correct:3,diff:"medium"},
{q:"Hangi element havada en bol bulunan inert gazdÄ±r?",a:["Neon","Kripton","Argon","Helyum"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 2018 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Almanya","Fransa","Brezilya","Arjantin"],correct:1,diff:"medium"},
{q:"Hangi bilim insanÄ± evrim teorisini geliÅŸtirmiÅŸtir?",a:["Mendel","Lamarck","Darwin","Wallace"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Cu' sembolÃ¼ ile gÃ¶sterilir?",a:["Karbon","Kobalt","BakÄ±r","Krom"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Colosseum bulunur?",a:["Yunanistan","Ä°talya","Ä°spanya","TÃ¼rkiye"],correct:1,diff:"medium"},
{q:"Ä°nsan vÃ¼cudundaki en bÃ¼yÃ¼k kemik hangisidir?",a:["Omurga","Kaburga","Uyluk kemiÄŸi","KÃ¶prÃ¼cÃ¼k kemiÄŸi"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede AtatÃ¼rk doÄŸmuÅŸtur?",a:["TÃ¼rkiye","Yunanistan","Bulgaristan","Makedonya"],correct:1,diff:"medium"},
{q:"Hangi element radyoaktiftir?",a:["Karbon","Azot","Uranyum","Argon"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 2014 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Brezilya","Arjantin","Fransa","Almanya"],correct:3,diff:"medium"},
{q:"Hangi bilim insanÄ± ampulÃ¼ icat etmiÅŸtir?",a:["Tesla","Faraday","Edison","Bell"],correct:2,diff:"medium"},
{q:"Ä°nsan vÃ¼cudunda kaÃ§ Ã§ift kosta (kaburga) vardÄ±r?",a:["10","11","12","13"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Pb' sembolÃ¼ ile gÃ¶sterilir?",a:["Platinyum","Pota sium","KurÅŸun","Polonyum"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Kabe bulunur?",a:["Irak","MÄ±sÄ±r","Suudi Arabistan","Ä°ran"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± radyumu keÅŸfetmiÅŸtir?",a:["Einstein","RÃ¶ntgen","Marie Curie","Bohr"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 2010 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Almanya","Brezilya","Ä°spanya","Arjantin"],correct:2,diff:"medium"},
{q:"Hangi organ oksijeni kana karÄ±ÅŸtÄ±rÄ±r?",a:["Kalp","BÃ¶brek","KaraciÄŸer","AkciÄŸer"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lkede Angkor Wat tapÄ±naÄŸÄ± bulunur?",a:["Tayland","Vietnam","KamboÃ§ya","Myanmar"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Na' sembolÃ¼ ile gÃ¶sterilir?",a:["Azot","Sodyum","Nikel","Neon"],correct:1,diff:"medium"},
{q:"Hangi bilim insanÄ± penicilini keÅŸfetmiÅŸtir?",a:["Pasteur","Lister","Fleming","Koch"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 2006 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Fransa","Almanya","Ä°talya","Portekiz"],correct:2,diff:"medium"},
{q:"Hangi organ safra Ã¼retir?",a:["Pankreas","Dalak","BÃ¶brek","KaraciÄŸer"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lkede Machu Picchu bulunur?",a:["Bolivya","Kolombiya","Peru","Åili"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'K' sembolÃ¼ ile gÃ¶sterilir?",a:["Karbon","Kalsiyum","Potasyum","Kripton"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± polio aÅŸÄ±sÄ±nÄ± geliÅŸtirmiÅŸtir?",a:["Pasteur","Salk","Sabin","Jenner"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lke 2002 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Arjantin","Ä°talya","Fransa","Brezilya"],correct:3,diff:"medium"},
{q:"Hangi organ idrar Ã¼retir?",a:["KaraciÄŸer","Dalak","BÃ¶brek","Pankreas"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Borobudur tapÄ±naÄŸÄ± bulunur?",a:["Tayland","Hindistan","Endonezya","Filipinler"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Hg' sembolÃ¼ ile gÃ¶sterilir?",a:["Helyum","Hafniyum","CÄ±va","Holmiyum"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± tÃ¼p bebeÄŸi geliÅŸtirmiÅŸtir?",a:["Watson","Edwards","Barnard","Christiaan"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lke 1998 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Ä°talya","Brezilya","Fransa","Almanya"],correct:2,diff:"medium"},
{q:"Hangi organ hormon salgÄ±lar?",a:["AkciÄŸer","BÃ¶brek","Endokrin bezler","Kalp"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Chichen Itza bulunur?",a:["Guatemala","Meksika","Honduras","Belize"],correct:1,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Sn' sembolÃ¼ ile gÃ¶sterilir?",a:["SÃ¼lfÃ¼r","Selenyum","Skandiyum","Kalay"],correct:3,diff:"medium"},
{q:"Hangi bilim insanÄ± X-Ä±ÅŸÄ±nlarÄ±nÄ± keÅŸfetmiÅŸtir?",a:["Curie","Becquerel","RÃ¶ntgen","Thomson"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 1994 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Ä°talya","Almanya","Brezilya","Arjantin"],correct:2,diff:"medium"},
{q:"Ä°nsan vÃ¼cudunda kaÃ§ diÅŸi vardÄ±r (yetiÅŸkin)?",a:["28","30","32","34"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Alhambra SarayÄ± bulunur?",a:["Portekiz","Ä°talya","Fas","Ä°spanya"],correct:3,diff:"medium"},
{q:"Hangi element periyodik tabloda 'W' sembolÃ¼ ile gÃ¶sterilir?",a:["Wolfram/Tungsten","Vanadyum","Vizmut","Wazoryum"],correct:0,diff:"medium"},
{q:"Hangi bilim insanÄ± dinamiti icat etmiÅŸtir?",a:["Pasteur","Nobel","Faraday","Edison"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lke 1990 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Arjantin","Brezilya","BatÄ± Almanya","Ä°talya"],correct:2,diff:"medium"},
{q:"Hangi organ beyni besler?",a:["Kalp","AkciÄŸer","KaraciÄŸer","BÃ¶brek"],correct:0,diff:"medium"},
{q:"Hangi Ã¼lkede Persepolis harabalarÄ± bulunur?",a:["Irak","Suriye","Ä°ran","TÃ¼rkiye"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Ti' sembolÃ¼ ile gÃ¶sterilir?",a:["Titanyum","Tantal","Talyum","Telluryum"],correct:0,diff:"medium"},
{q:"Hangi bilim insanÄ± Ã§iÃ§ek hastalÄ±ÄŸÄ± aÅŸÄ±sÄ±nÄ± geliÅŸtirmiÅŸtir?",a:["Pasteur","Lister","Jenner","Fleming"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 1986 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Brezilya","Ä°talya","Almanya","Arjantin"],correct:3,diff:"medium"},
{q:"Hangi organ baÄŸÄ±ÅŸÄ±klÄ±k sistemi iÃ§in Ã¶nemlidir?",a:["BÃ¶brek","KaraciÄŸer","Dalak","Pankreas"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Keops Piramidi bulunur?",a:["Tunus","Libya","MÄ±sÄ±r","Sudan"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Ni' sembolÃ¼ ile gÃ¶sterilir?",a:["Nyobiym","Azot","Nikel","Neon"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± gramofonu icat etmiÅŸtir?",a:["Bell","Edison","Tesla","Marconi"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lke 1982 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Brezilya","Fransa","Almanya","Ä°talya"],correct:3,diff:"medium"},
{q:"Hangi organ vÃ¼cuttaki toksinleri filtreler?",a:["AkciÄŸer","Dalak","Pankreas","KaraciÄŸer"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lkede Petra ÅŸehri bulunur?",a:["Suriye","Ä°srail","Irak","ÃœrdÃ¼n"],correct:3,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Cr' sembolÃ¼ ile gÃ¶sterilir?",a:["Karbon","Krom","Kobalt","Klor"],correct:1,diff:"medium"},
{q:"Hangi bilim insanÄ± telefonu icat etmiÅŸtir?",a:["Edison","Marconi","Bell","Tesla"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 1978 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Brezilya","Hollanda","Almanya","Arjantin"],correct:3,diff:"medium"},
{q:"Hangi organ ses Ã¼retir?",a:["AkciÄŸer","GÄ±rtlak","AÄŸÄ±z","Burun"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lkede Baalbek tapÄ±naklarÄ± bulunur?",a:["Suriye","Ä°srail","LÃ¼bnan","Irak"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Mn' sembolÃ¼ ile gÃ¶sterilir?",a:["Magnezium","Molibden","Mangan","MerkÃ¼r"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± radyoaktiviteyi keÅŸfetmiÅŸtir?",a:["Curie","Thomson","RÃ¶ntgen","Becquerel"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lke 1974 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Brezilya","Hollanda","Ä°talya","BatÄ± Almanya"],correct:3,diff:"medium"},
{q:"Hangi organ nefes almayÄ± saÄŸlar?",a:["Kalp","BÃ¶brek","AkciÄŸer","KaraciÄŸer"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Hagia Sophia bulunur?",a:["Yunanistan","Rusya","Ä°ran","TÃ¼rkiye"],correct:3,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Co' sembolÃ¼ ile gÃ¶sterilir?",a:["Karbon","Klor","Kobalt","Kalsiyum"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± tablo geliÅŸtirerek genetik yasalarÄ±nÄ± bulmuÅŸtur?",a:["Darwin","Watson","Crick","Mendel"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lke 1970 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Ä°talya","Almanya","Uruguay","Brezilya"],correct:3,diff:"medium"},
{q:"Hangi organ koku almayÄ± saÄŸlar?",a:["Kulak","GÃ¶z","Burun","Dil"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Teotihuacan piramitleri bulunur?",a:["Guatemala","Meksika","Peru","Honduras"],correct:1,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Zn' sembolÃ¼ ile gÃ¶sterilir?",a:["Zirkonyum","Ã‡inko","Zemeryum","Zeon"],correct:1,diff:"medium"},
{q:"Hangi bilim insanÄ± elektromanyetik induktif keÅŸfetmiÅŸtir?",a:["Tesla","Faraday","Hertz","Maxwell"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lke 1966 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Almanya","Portekiz","Ä°ngiltere","Brezilya"],correct:2,diff:"medium"},
{q:"Hangi organ tat almayÄ± saÄŸlar?",a:["Burun","GÃ¶z","Kulak","Dil"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lkede Petra antik kenti bulunur?",a:["Ä°srail","Suriye","MÄ±sÄ±r","ÃœrdÃ¼n"],correct:3,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Ca' sembolÃ¼ ile gÃ¶sterilir?",a:["Karbon","Kobalt","Kalsiyum","Klor"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± yerÃ§ekimi dalgalarÄ±nÄ± tahmin etmiÅŸtir?",a:["Newton","Bohr","Einstein","Hawking"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 1962 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Arjantin","Brezilya","Åili","Uruguay"],correct:1,diff:"medium"},
{q:"Hangi organ kan filtreler ve idrar oluÅŸturur?",a:["KaraciÄŸer","Dalak","Pankreas","BÃ¶brek"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lkede TopkapÄ± SarayÄ± bulunur?",a:["Ä°ran","MÄ±sÄ±r","TÃ¼rkiye","Yunanistan"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Cl' sembolÃ¼ ile gÃ¶sterilir?",a:["Karbon","Kalsiyum","Klor","Kobalt"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± GÃ¼neÅŸ Sistemini ortaya koymuÅŸtur?",a:["Galileo","Kepler","Copernicus","Brahe"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 1958 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Ä°sveÃ§","Fransa","Uruguay","Brezilya"],correct:3,diff:"medium"},
{q:"Hangi organ kan ÅŸekerini dengeler?",a:["KaraciÄŸer","BÃ¶brek","Pankreas","Dalak"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Vatican City bulunur?",a:["Ä°spanya","Yunanistan","Ä°talya","Fransa"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'P' sembolÃ¼ ile gÃ¶sterilir?",a:["Platin","Potasyum","Fosfor","Polonyum"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± elektrik motorunu geliÅŸtirmiÅŸtir?",a:["Faraday","Edison","Tesla","Hertz"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke 1954 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Ä°talya","Macaristan","Brezilya","BatÄ± Almanya"],correct:3,diff:"medium"},
{q:"Hangi organ vÃ¼cuttaki yaÄŸlarÄ± sindirir?",a:["Mide","Pankreas","KaraciÄŸer","Safra kesesi"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lkede Karnak TapÄ±naÄŸÄ± bulunur?",a:["Ä°srail","Libya","Tunus","MÄ±sÄ±r"],correct:3,diff:"medium"},
{q:"Hangi element periyodik tabloda 'S' sembolÃ¼ ile gÃ¶sterilir?",a:["Silisyum","Sodyum","SÃ¼lfÃ¼r","Selenyum"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± atom modelini geliÅŸtirmiÅŸtir?",a:["Thomson","Bohr","Rutherford","Dalton"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lke 1950 FIFA DÃ¼nya KupasÄ±'nÄ± kazandÄ±?",a:["Brezilya","Ä°ngiltere","Uruguay","Arjantin"],correct:2,diff:"medium"},
{q:"Hangi organ vÃ¼cuttaki karbondioksiti dÄ±ÅŸarÄ± atar?",a:["Kalp","BÃ¶brek","KaraciÄŸer","AkciÄŸer"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lkede Abu Simbel tapÄ±naklarÄ± bulunur?",a:["Sudan","Libya","MÄ±sÄ±r","Tunus"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Si' sembolÃ¼ ile gÃ¶sterilir?",a:["Sodyum","Silisyum","Selenyum","SÃ¼lfÃ¼r"],correct:1,diff:"medium"},
{q:"Hangi bilim insanÄ± elektron teorisini geliÅŸtirmiÅŸtir?",a:["Bohr","Curie","Thomson","Rutherford"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke ilk dÃ¼nya kupasÄ±nÄ± kazandÄ± (1930)?",a:["Arjantin","Brezilya","Uruguay","ABD"],correct:2,diff:"medium"},
{q:"Hangi organ vÃ¼cuttaki ÅŸeker depolar?",a:["BÃ¶brek","Pankreas","Dalak","KaraciÄŸer"],correct:3,diff:"medium"},
{q:"Hangi Ã¼lkede Mezopotamya medeniyeti geliÅŸmiÅŸtir?",a:["Ä°ran","TÃ¼rkiye","Irak","Suriye"],correct:2,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Al' sembolÃ¼ ile gÃ¶sterilir?",a:["Argon","AlÃ¼minyum","Antimon","Arsenik"],correct:1,diff:"medium"},
{q:"Hangi bilim insanÄ± kanÄ±n dolaÅŸÄ±mÄ±nÄ± keÅŸfetmiÅŸtir?",a:["Galen","Harvey","Vesalius","Hippocrates"],correct:1,diff:"medium"},
{q:"Hangi Ã¼lke en fazla Nobel Ã–dÃ¼lÃ¼ kazanmÄ±ÅŸtÄ±r?",a:["Ä°ngiltere","Fransa","Almanya","ABD"],correct:3,diff:"medium"},
{q:"Hangi organ vÃ¼cudun merkezini korur?",a:["Deri","KafatasÄ±","Omurga","GÃ¶ÄŸÃ¼s kafesi"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Nara'da antik tapÄ±naklar bulunur?",a:["Ã‡in","Kore","Vietnam","Japonya"],correct:3,diff:"medium"},
{q:"Hangi element periyodik tabloda 'Mg' sembolÃ¼ ile gÃ¶sterilir?",a:["Mangan","Molibden","Magneziyum","MerkÃ¼r"],correct:2,diff:"medium"},
{q:"Hangi bilim insanÄ± mikroplarÄ± keÅŸfetmiÅŸtir?",a:["Koch","Pasteur","Leeuwenhoek","Jenner"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lke en fazla Oscar Ã–dÃ¼lÃ¼ kazanmÄ±ÅŸtÄ±r?",a:["Ä°ngiltere","Fransa","Almanya","ABD"],correct:3,diff:"medium"},
{q:"Hangi organ vÃ¼cudun koordinasyonunu saÄŸlar?",a:["Kalp","AkciÄŸer","Beyin","KaraciÄŸer"],correct:2,diff:"medium"},
{q:"Hangi Ã¼lkede Polonnaruwa antik kenti bulunur?",a:["Hindistan","BangladeÅŸ","Nepal","Sri Lanka"],correct:3,diff:"medium"},

// â•â•â•â•â•â•â•â•â•â• ZOR (150) â•â•â•â•â•â•â•â•â•â•
{q:"Higgs Bozonu hangi yÄ±lda deneysel olarak doÄŸrulandÄ±?",a:["2010","2012","2014","2008"],correct:1,diff:"hard"},
{q:"Fibonacci dizisinde 144'ten sonra gelen sayÄ± nedir?",a:["233","221","256","200"],correct:0,diff:"hard"},
{q:"Kuantum mekaniÄŸinde 'sÃ¼perpozisyon' kavramÄ±nÄ± aÃ§Ä±klayan deney hangisidir?",a:["SchrÃ¶dinger'in Kedisi","Newton'Ä±n ElmasÄ±","Faraday Kafesi","Heisenberg Matrisi"],correct:0,diff:"hard"},
{q:"Ä°lk bilgisayar programcÄ±sÄ± olarak kabul edilen kiÅŸi kimdir?",a:["Alan Turing","Ada Lovelace","Charles Babbage","Grace Hopper"],correct:1,diff:"hard"},
{q:"Evrenin tahmini yaÅŸÄ± kaÃ§ yÄ±ldÄ±r?",a:["9.8 milyar","13.8 milyar","18.5 milyar","7.2 milyar"],correct:1,diff:"hard"},
{q:"Fermat'Ä±n Son Teoremi'ni kanÄ±tlayan matematikÃ§i kimdir?",a:["Carl Gauss","Andrew Wiles","Leonhard Euler","Srinivasa Ramanujan"],correct:1,diff:"hard"},
{q:"Hangisi kuantum kriptografisinin temelini oluÅŸturur?",a:["RSA AlgoritmasÄ±","Heisenberg Belirsizlik Ä°lkesi","AES Åifreleme","Diffie-Hellman"],correct:1,diff:"hard"},
{q:"P vs NP problemi hangi alan iÃ§in kritik Ã¶neme sahiptir?",a:["Biyoloji","Kimya","Bilgisayar Bilimi","Fizik"],correct:2,diff:"hard"},
{q:"Riemann Hipotezi hangi alanla ilgilidir?",a:["Geometri","Asal sayÄ±lar","Ä°statistik","Topoloji"],correct:1,diff:"hard"},
{q:"Hangi fizik kanunu 'Bir cismin momentumu korunur' ilkesini aÃ§Ä±klar?",a:["Termodinamik 1. Kanunu","Momentum Korunumu","Enerji Korunumu","Newton 3. YasasÄ±"],correct:1,diff:"hard"},
{q:"DNA'nÄ±n Ã§ift sarmal yapÄ±sÄ±nÄ± keÅŸfeden bilim insanlarÄ± kimlerdir?",a:["Curie ve Becquerel","Watson ve Crick","Mendel ve Morgan","Darwin ve Wallace"],correct:1,diff:"hard"},
{q:"Kuantum bilgisayarlarda kullanÄ±lan temel birim nedir?",a:["Bit","Bayt","Qubit","Nibble"],correct:2,diff:"hard"},
{q:"Hangi matematik problemi Milenyum Ã–dÃ¼lÃ¼ problemleri arasÄ±ndadÄ±r?",a:["Fermat Teoremi","PoincarÃ© KonjektÃ¼rÃ¼","Goldbach KonjektÃ¼rÃ¼","Collatz KonjektÃ¼rÃ¼"],correct:1,diff:"hard"},
{q:"Kara delikler ilk olarak hangi bilim insanÄ±nÄ±n Ã§alÄ±ÅŸmalarÄ±yla teorik olarak Ã¶ngÃ¶rÃ¼ldÃ¼?",a:["Hawking","Einstein","Schwarzschild","Penrose"],correct:2,diff:"hard"},
{q:"CRISPR-Cas9 teknolojisi neyi mÃ¼mkÃ¼n kÄ±lmaktadÄ±r?",a:["Protein sentezi","Gen dÃ¼zenleme","RNA sentezi","HÃ¼cre bÃ¶lÃ¼nmesi"],correct:1,diff:"hard"},
{q:"Hangi matematikÃ§i 'Ä°nkompletness Teoremi'ni kanÄ±tlamÄ±ÅŸtÄ±r?",a:["Hilbert","Turing","GÃ¶del","Cantor"],correct:2,diff:"hard"},
{q:"Kuantum dolanÄ±klÄ±k (entanglement) nedir?",a:["ParÃ§acÄ±klarÄ±n birbirine mekanik baÄŸlÄ± olmasÄ±","Ä°ki parÃ§acÄ±ÄŸÄ±n birbirinden baÄŸÄ±msÄ±z Ã¶lÃ§Ã¼lememesi","ParÃ§acÄ±klarÄ±n aynÄ± konumda bulunmasÄ±","Enerjinin eÅŸit daÄŸÄ±lÄ±mÄ±"],correct:1,diff:"hard"},
{q:"Hangi fizik deneyi Ä±ÅŸÄ±ÄŸÄ±n dalga ve parÃ§acÄ±k Ã¶zelliÄŸini gÃ¶sterir?",a:["Compton SaÃ§Ä±lmasÄ±","Fotoelektrik Etki","Ã‡ift YarÄ±k Deneyi","Michelson-Morley"],correct:2,diff:"hard"},
{q:"Euler'in kimlik formÃ¼lÃ¼ (e^iÏ€ + 1 = 0) hangi sayÄ±larÄ± iÃ§erir?",a:["e, i, Ï€, 0, 1","e, i, Ï€, 2, 1","e, i, Ï€, 0, 2","âˆš2, i, Ï€, 0, 1"],correct:0,diff:"hard"},
{q:"Antropik prensip neyle ilgilidir?",a:["Evrenin yapÄ±sÄ±","Evrendeki gÃ¶zlemci etkisi","Maddenin kÃ¶keni","Karadelik oluÅŸumu"],correct:1,diff:"hard"},
{q:"Hangi element 93. atom numarasÄ±na sahiptir?",a:["Uranyum","PlÃ¼tonyum","NeptÃ¼nyum","Amerikaniyum"],correct:2,diff:"hard"},
{q:"Nash Dengesi hangi alanda kullanÄ±lÄ±r?",a:["Fizik","Oyun teorisi","Kimya","Biyoloji"],correct:1,diff:"hard"},
{q:"Hangi teori evrenin baÅŸlangÄ±cÄ±nÄ± aÃ§Ä±klar?",a:["KararlÄ± Durum Teorisi","Big Crunch","BÃ¼yÃ¼k Patlama (Big Bang)","DÃ¶ngÃ¼sel Evren"],correct:2,diff:"hard"},
{q:"Holografik prensip neyi Ã¶ne sÃ¼rer?",a:["Evrenin 3 boyutlu olduÄŸunu","Evrenin 2 boyutlu yÃ¼zey Ã¼zerinde kodlandÄ±ÄŸÄ±nÄ±","Karadeliklerin sonsuz yoÄŸunlukta olduÄŸunu","Zaman yolculuÄŸunun mÃ¼mkÃ¼n olduÄŸunu"],correct:1,diff:"hard"},
{q:"Hangi matematikÃ§i modern sayÄ± teorisinin babasÄ± sayÄ±lÄ±r?",a:["Euler","Gauss","Riemann","Fermat"],correct:1,diff:"hard"},
{q:"Protein katlama problemi hangi alanda kritik Ã¶neme sahiptir?",a:["Fizik","Astronomi","Biyoinformatik","Kimya mÃ¼hendisliÄŸi"],correct:2,diff:"hard"},
{q:"Hangi teori renk yÃ¼kÃ¼ olan parÃ§acÄ±klar arasÄ±ndaki kuvveti aÃ§Ä±klar?",a:["Kuantum ElektrodinamiÄŸi","Kuantum KromodinamiÄŸi","Standart Model","Sicim Teorisi"],correct:1,diff:"hard"},
{q:"Navier-Stokes denklemleri neyi aÃ§Ä±klar?",a:["Elektromanyetizma","Termodinamik","AkÄ±ÅŸkan dinamiÄŸi","Kuantum mekaniÄŸi"],correct:2,diff:"hard"},
{q:"Hangi bilim insanÄ± 'Kara delikler buharlaÅŸÄ±r' teorisini Ã¶ne sÃ¼rmÃ¼ÅŸtÃ¼r?",a:["Penrose","Hawking","Thorne","Wheeler"],correct:1,diff:"hard"},
{q:"Heisenberg Belirsizlik Ä°lkesi nedir?",a:["Bir parÃ§acÄ±ÄŸÄ±n konumu ve momentumu aynÄ± anda tam olarak bilinemez","IÅŸÄ±k hÄ±zÄ± aÅŸÄ±lamaz","Enerji korunur","Entropi her zaman artar"],correct:0,diff:"hard"},
{q:"Langlands ProgramÄ± hangi iki alanÄ± birleÅŸtirmeye Ã§alÄ±ÅŸÄ±r?",a:["Fizik ve kimya","Geometri ve sayÄ± teorisi","Biyoloji ve matematik","Astronomi ve fizik"],correct:1,diff:"hard"},
{q:"Hangi element 'Yeni Tokyo' anlamÄ±na gelen ismi taÅŸÄ±r?",a:["Einsteinyum","Japonium","Nihonyum","Tennessine"],correct:2,diff:"hard"},
{q:"Quantum supremacy (kuantum Ã¼stÃ¼nlÃ¼ÄŸÃ¼) kavramÄ±nÄ± ilk kez hangi ÅŸirket deneysel olarak kanÄ±tladÄ±ÄŸÄ±nÄ± Ã¶ne sÃ¼rdÃ¼?",a:["IBM","Microsoft","Intel","Google"],correct:3,diff:"hard"},
{q:"Mandelbrot KÃ¼mesi hangi matematiksel yapÄ±yla ilgilidir?",a:["Topoloji","Fraktallar","SayÄ± Teorisi","Cebir"],correct:1,diff:"hard"},
{q:"Hangi biyolojik sÃ¼reÃ§ ATP Ã¼retimini gerÃ§ekleÅŸtirir?",a:["Glikoliz","Krebs DÃ¶ngÃ¼sÃ¼","Oksidatif Fosforilasyon","Fotosentez"],correct:2,diff:"hard"},
{q:"Hangi fizikÃ§i manyetik monopollerin varlÄ±ÄŸÄ±nÄ± Ã¶ngÃ¶rdÃ¼?",a:["Maxwell","Faraday","Dirac","Hertz"],correct:2,diff:"hard"},
{q:"Birch ve Swinnerton-Dyer KonjektÃ¼rÃ¼ hangi matematiksel nesnelerle ilgilidir?",a:["Primer sayÄ±lar","Eliptik eÄŸriler","Topolojik uzaylar","Matrisler"],correct:1,diff:"hard"},
{q:"Hangi teori parÃ§acÄ±k fiziÄŸinde dÃ¶rdÃ¼ birleÅŸtirme sorunuyla ilgilenir?",a:["Standart Model","BÃ¼yÃ¼k BirleÅŸik Teori (GUT)","SÃ¼persimetri","Sicim Teorisi"],correct:1,diff:"hard"},
{q:"Kozmik enflasyon teorisi neyi aÃ§Ä±klar?",a:["Evrenin geniÅŸlemesini","Big Bang sonrasÄ± hÄ±zlÄ± geniÅŸlemeyi","Karadeliklerin bÃ¼yÃ¼mesini","Galaksilerin oluÅŸumunu"],correct:1,diff:"hard"},
{q:"Hangi matematiksel yapÄ± topolojide 'delinmiÅŸ donuts' olarak tanÄ±mlanÄ±r?",a:["MÃ¶bius Åeridi","Torus","Klein ÅiÅŸesi","Projektif DÃ¼zlem"],correct:1,diff:"hard"},
{q:"Hangi parÃ§acÄ±k 'TanrÄ± ParÃ§acÄ±ÄŸÄ±' olarak bilinir?",a:["Kuark","Graviton","Higgs Bozonu","NÃ¶trino"],correct:2,diff:"hard"},
{q:"Yang-Mills denklemleri hangi kuvvetleri aÃ§Ä±klar?",a:["YerÃ§ekimi","GÃ¼Ã§lÃ¼ ve zayÄ±f nÃ¼kleer kuvvetler","Elektromanyetizma","TÃ¼m temel kuvvetler"],correct:1,diff:"hard"},
{q:"Hangi matematik dalÄ± sÃ¼rekli dÃ¶nÃ¼ÅŸÃ¼mleri inceler?",a:["Cebir","Aritmetik","Topoloji","Ä°statistik"],correct:2,diff:"hard"},
{q:"Epigenetik nedir?",a:["DNA dizisini deÄŸiÅŸtirmeden gen ifadesindeki deÄŸiÅŸiklikler","DNA'nÄ±n fiziksel yapÄ±sÄ±","RNA sentezinin mekanizmasÄ±","Protein katlanma sÃ¼reci"],correct:0,diff:"hard"},
{q:"Hangi bilim insanÄ± 'Zaman kÄ±salmasÄ±' kavramÄ±nÄ± aÃ§Ä±klamÄ±ÅŸtÄ±r?",a:["Newton","Maxwell","Lorentz","Einstein"],correct:3,diff:"hard"},
{q:"OlasÄ±lÄ±k teorisinde Bayes Teoremi neyi aÃ§Ä±klar?",a:["BaÄŸÄ±msÄ±z olaylarÄ±","KoÅŸullu olasÄ±lÄ±ÄŸÄ±","Normal daÄŸÄ±lÄ±mÄ±","Merkezi limit teoremini"],correct:1,diff:"hard"},
{q:"Hangi molekÃ¼ler yapÄ± ribozomlarÄ±n temel bileÅŸenidir?",a:["DNA","rRNA","mRNA","tRNA"],correct:1,diff:"hard"},
{q:"Hangi fiziksel olgu 'tÃ¼nel etkisi' olarak bilinir?",a:["ParÃ§acÄ±klarÄ±n yÃ¼ksek enerji duvarlarÄ±nÄ± aÅŸmasÄ±","ParÃ§acÄ±klarÄ±n dÃ¼ÅŸÃ¼k enerji bariyerlerinden geÃ§ebilmesi","IÅŸÄ±ÄŸÄ±n kÄ±rÄ±lmasÄ±","Dalga boyu deÄŸiÅŸimi"],correct:1,diff:"hard"},
{q:"Kolmogorov KarmaÅŸÄ±klÄ±ÄŸÄ± neyi Ã¶lÃ§er?",a:["AlgoritmanÄ±n hÄ±zÄ±nÄ±","Veriyi tanÄ±mlayan en kÄ±sa programÄ±n uzunluÄŸunu","VeritabanÄ± boyutunu","Hesaplama sÃ¼resini"],correct:1,diff:"hard"},
{q:"Hangi biyolojik sÃ¼reÃ§ telomerlerin kÄ±salmasÄ±yla iliÅŸkilidir?",a:["Kanser","HÃ¼cre bÃ¶lÃ¼nmesi","YaÅŸlanma","Apoptoz"],correct:2,diff:"hard"},
{q:"Hangi matematiksel yapÄ± 'dÃ¶rtboyutlu uzayda kÃ¼re' olarak tanÄ±mlanÄ±r?",a:["HiperkÃ¼re","3-KÃ¼re","4-YÃ¼zey","S3"],correct:1,diff:"hard"},
{q:"Feynman diyagramlarÄ± nedir?",a:["ParÃ§acÄ±k Ã§arpÄ±ÅŸmalarÄ±nÄ±n gÃ¶rsel temsili","Kuantum durumlarÄ±n matrisi","Dalga fonksiyonu Ã§Ã¶kÃ¼ÅŸÃ¼","OlasÄ±lÄ±k amplitÃ¼dÃ¼ hesabÄ±"],correct:0,diff:"hard"},
{q:"Hangi sÃ¼reÃ§ mitokondride gerÃ§ekleÅŸir?",a:["Protein sentezi","DNA replikasyonu","HÃ¼cresel solunum","Fotosentez"],correct:2,diff:"hard"},
{q:"Kaotik sistemlerin temel Ã¶zelliÄŸi nedir?",a:["Tahmin edilebilirlik","BaÅŸlangÄ±Ã§ koÅŸullarÄ±na aÅŸÄ±rÄ± duyarlÄ±lÄ±k","DÃ¼zenli periyodik davranÄ±ÅŸ","Enerji korunumu"],correct:1,diff:"hard"},
{q:"Hangi matematiksel kavram 'sayÄ±larÄ±n sayÄ±sÄ±' problemiyle ilgilidir?",a:["Kardinalite","Ordinalite","Transfinit sayÄ±lar","Cantor diyagonalizasyonu"],correct:0,diff:"hard"},
{q:"Hangi molekÃ¼l enerji para birimi olarak kullanÄ±lÄ±r?",a:["ADP","NAD+","ATP","FADH2"],correct:2,diff:"hard"},
{q:"Hangi fizik teorisi uzay-zamanÄ±n eÄŸriliÄŸini aÃ§Ä±klar?",a:["Ã–zel GÃ¶relilik","Kuantum MekaniÄŸi","Genel GÃ¶relilik","Termodinamik"],correct:2,diff:"hard"},
{q:"Kompleks analiz alanÄ±nda Cauchy Ä°ntegral FormÃ¼lÃ¼ neyi sÃ¶yler?",a:["Analitik fonksiyonun iÃ§ deÄŸerleri dÄ±ÅŸ deÄŸerlerden hesaplanabilir","TÃ¼revin sÃ¼rekliliÄŸi","GerÃ§ek integralin hesabÄ±","Seri yakÄ±nsamasÄ±"],correct:0,diff:"hard"},
{q:"Hangi gen dÃ¼zenleme mekanizmasÄ± 'kesici' RNA kullanÄ±r?",a:["RNAi","CRISPR","Rekombinasyon","Transpozisyon"],correct:1,diff:"hard"},
{q:"Hangi teori uzay-zamanÄ± titreÅŸen ipler olarak tanÄ±mlar?",a:["Sicim Teorisi","M-Teorisi","Loop Kuantum YerÃ§ekimi","Supergraviton"],correct:0,diff:"hard"},
{q:"Laplace DÃ¶nÃ¼ÅŸÃ¼mÃ¼ nerede kullanÄ±lÄ±r?",a:["Diferansiyel denklemlerin Ã§Ã¶zÃ¼mÃ¼nde","Ä°statistiksel analizde","Veri sÄ±kÄ±ÅŸtÄ±rmada","Kriptografide"],correct:0,diff:"hard"},
{q:"Hangi sÃ¼reÃ§ hÃ¼cre iÃ§inde protein Ã¼retimini gerÃ§ekleÅŸtirir?",a:["Transkripsiyon","Translasyon","Replikasyon","Rekombinasyon"],correct:1,diff:"hard"},
{q:"Kanonsal kuantumlaÅŸtÄ±rma nedir?",a:["Klasik sistemin kuantum sistemine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmesi","ParÃ§acÄ±k hÄ±zÄ±nÄ±n Ã¶lÃ§Ã¼lmesi","Dalga fonksiyonunun normalize edilmesi","Hamiltonian hesabÄ±"],correct:0,diff:"hard"},
{q:"Galois Teorisi neyi aÃ§Ä±klar?",a:["Diferansiyel geometri","Polinom denklemlerinin Ã§Ã¶zÃ¼mÃ¼ ve grup simetrileri","Topolojik uzaylar","SayÄ± teorisi"],correct:1,diff:"hard"},
{q:"Hangi molekÃ¼ler mekanizma hÃ¼cre dÃ¶ngÃ¼sÃ¼nÃ¼ dÃ¼zenler?",a:["Siklin-CDK kompleksleri","RNA polimeraz","Ribosom aktivasyonu","Mitokondri fÃ¼zyonu"],correct:0,diff:"hard"},
{q:"Hangi matematiksel yapÄ± Lie grubu deÄŸildir?",a:["SO(3)","SU(2)","Kleyn DÃ¶rt Grubu","GL(n,R)"],correct:2,diff:"hard"},
{q:"Hangi fizik deneyi Maxwell'in canavarÄ± paradoksunu ele alÄ±r?",a:["Szilard Motoru","Maxwell CanavarÄ± Deneyi","Carnot Motoru","Stirling Motoru"],correct:0,diff:"hard"},
{q:"Hangi biyolojik proses horizontal gen transferi iÃ§erir?",a:["Mitoz","Mayoz","Konjugasyon","Transkripsiyon"],correct:2,diff:"hard"},
{q:"Algoritma karmaÅŸÄ±klÄ±ÄŸÄ±nda O(n log n) hangi algoritmayÄ± temsil eder?",a:["Bubble Sort","Quick Sort","Merge Sort","Linear Search"],correct:2,diff:"hard"},
{q:"Hangi kavram biyolojide 'doÄŸal seÃ§ilim'in temelidir?",a:["Mutasyon","Rekombinasyon","Uyum (Fitness)","Gen akÄ±ÅŸÄ±"],correct:2,diff:"hard"},
{q:"Hangi matematiksel dÃ¶nÃ¼ÅŸÃ¼m frekans uzayÄ±na geÃ§iÅŸi saÄŸlar?",a:["Laplace DÃ¶nÃ¼ÅŸÃ¼mÃ¼","Fourier DÃ¶nÃ¼ÅŸÃ¼mÃ¼","Z DÃ¶nÃ¼ÅŸÃ¼mÃ¼","Hilbert DÃ¶nÃ¼ÅŸÃ¼mÃ¼"],correct:1,diff:"hard"},
{q:"Hangi parÃ§acÄ±k fiziÄŸi kavramÄ± renk yÃ¼kÃ¼ olmayan bileÅŸik parÃ§acÄ±klarÄ± aÃ§Ä±klar?",a:["Meson","Baryon","Hadron","Kolorasyon"],correct:2,diff:"hard"},
{q:"Hangi biyokimyasal yol glikozu pirÃ¼vata dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r?",a:["Beta oksidasyon","Glikoliz","Glukoneogenez","Pentoz fosfat yolu"],correct:1,diff:"hard"},
{q:"Banach-Tarski Paradoksu neyi Ã¶ne sÃ¼rer?",a:["Bir kÃ¼reyi iki Ã¶zdeÅŸ kÃ¼reye bÃ¶lmek mÃ¼mkÃ¼ndÃ¼r","Sonsuz kÃ¼melerin sayÄ±labilirliÄŸi","Ã–lÃ§Ã¼m teorisinin Ã§Ã¶kÃ¼ÅŸÃ¼","GerÃ§ek sayÄ±lar arasÄ±nda sÃ¼reklilik"],correct:0,diff:"hard"},
{q:"Hangi sinyal iletim yolu MAPK kaskadÄ±nÄ± iÃ§erir?",a:["Ä°nsÃ¼lin sinyali","BÃ¼yÃ¼me faktÃ¶rÃ¼ sinyali","GPCR sinyali","Sitokin sinyali"],correct:1,diff:"hard"},
{q:"Hangi matematiksel alan 'ÅŸekillerin esnek dÃ¶nÃ¼ÅŸÃ¼mÃ¼'nÃ¼ inceler?",a:["Analitik Geometri","Topoloji","Diferansiyel Geometri","Projektif Geometri"],correct:1,diff:"hard"},
{q:"Qubit decoherence nedir?",a:["Kuantum bilginin termal gÃ¼rÃ¼ltÃ¼ nedeniyle kaybolmasÄ±","Qubitin Ã¶lÃ§Ã¼lmesi","Ä°ki qubiti dolanÄ±k hale getirme","Kuantum hata dÃ¼zeltme"],correct:0,diff:"hard"},
{q:"Hangi enzim RNA'dan DNA sentezler?",a:["DNA polimeraz","RNA polimeraz","Ters transkriptaz","Helikaz"],correct:2,diff:"hard"},
{q:"Hangi matematiksel teori 'sonsuzluklarÄ±n hiyerarÅŸisi'ni inceler?",a:["Set Teorisi","SayÄ± Teorisi","OlasÄ±lÄ±k Teorisi","Cebir"],correct:0,diff:"hard"},
{q:"Hangi fizik kavramÄ± 'zamana gÃ¶re enerji korunumu'nu aÃ§Ä±klar?",a:["Noether Teoremi","Hamiltonian MekaniÄŸi","Lagrangian MekaniÄŸi","Viryal Teorem"],correct:0,diff:"hard"},
{q:"Hangi biyolojik mekanizma epigenetik kalÄ±tÄ±mÄ± saÄŸlar?",a:["DNA metilasyonu","RNA interferansÄ±","Telomer uzamasÄ±","Transpozon aktivasyonu"],correct:0,diff:"hard"},
{q:"Shor AlgoritmasÄ± neyi Ã§Ã¶zmede kullanÄ±lÄ±r?",a:["SÄ±ralama problemleri","BÃ¼yÃ¼k sayÄ±larÄ±n asal Ã§arpanlarÄ±na ayrÄ±lmasÄ±","Optimizasyon problemleri","VeritabanÄ± arama"],correct:1,diff:"hard"},
{q:"Hangi diferansiyel denklem sistemi kaotik davranÄ±ÅŸ gÃ¶sterir?",a:["Basit harmonik osilatÃ¶r","Lorenz sistemi","Keplerian hareket","Hooke yasasÄ±"],correct:1,diff:"hard"},
{q:"Hangi protein misfolding hastalÄ±kla iliÅŸkilidir?",a:["Hemoglobin","Prion proteinler","Kollajen","Aktin"],correct:1,diff:"hard"},
{q:"Hangi matematiksel yapÄ± Lie cebiri deÄŸildir?",a:["so(3)","su(2)","gl(n)","Z/nZ"],correct:3,diff:"hard"},
{q:"Hangi fiziksel Ã¶zellik karanlÄ±k maddeyi tanÄ±mlar?",a:["Elektromanyetik etkileÅŸim yapar","YalnÄ±zca yerÃ§ekimi etkileÅŸimi gÃ¶sterir","IÅŸÄ±k yayar","SÄ±caklÄ±ÄŸÄ± vardÄ±r"],correct:1,diff:"hard"},
{q:"Hangi teorik kavram Ã§ok-evrenleri (Multiverse) Ã¶ngÃ¶rÃ¼r?",a:["Kozmik Enflasyon","Sicim Teorisi","Kuantum MekaniÄŸi","Genel GÃ¶relilik"],correct:0,diff:"hard"},
{q:"Hangi enzim DNA replikasyonunda baÅŸlangÄ±Ã§ dizisi sentezler?",a:["DNA polimeraz I","DNA polimeraz III","Primaz","Ligaz"],correct:2,diff:"hard"},
{q:"Hangi matematiksel kavram 'sayÄ±lamaz sonsuzluk' iÃ§erir?",a:["DoÄŸal sayÄ±lar","Rasyonel sayÄ±lar","GerÃ§ek sayÄ±lar","Tam sayÄ±lar"],correct:2,diff:"hard"},
{q:"Hangi parÃ§acÄ±k kÃ¼tlesiz olup Ä±ÅŸÄ±k hÄ±zÄ±nda hareket eder?",a:["Elektron","Proton","Foton","NÃ¶tron"],correct:2,diff:"hard"},
{q:"Hangi biyokimyasal sÃ¼reÃ§ 'proton pompalama'yÄ± iÃ§erir?",a:["Glikoliz","Oksidatif fosforilasyon","Glikoneogenez","YaÄŸ asidi sentezi"],correct:1,diff:"hard"},
{q:"Weil KonjektÃ¼rleri hangi alanla ilgilidir?",a:["Analiz","Cebirsel Geometri","OlasÄ±lÄ±k","Kombinatorik"],correct:1,diff:"hard"},
{q:"Hangi fiziksel kuvvet Ã§ekirdeÄŸi bir arada tutar?",a:["Elektromanyetik kuvvet","ZayÄ±f nÃ¼kleer kuvvet","GÃ¼Ã§lÃ¼ nÃ¼kleer kuvvet","YerÃ§ekimi"],correct:2,diff:"hard"},
{q:"Hangi protein yapÄ±sÄ± alfa sarmalÄ± ve beta tabakasÄ± iÃ§erir?",a:["Birincil yapÄ±","Ä°kincil yapÄ±","ÃœÃ§Ã¼ncÃ¼l yapÄ±","DÃ¶rdÃ¼ncÃ¼l yapÄ±"],correct:1,diff:"hard"},
{q:"Goldbach KonjektÃ¼rÃ¼ neyi Ã¶ne sÃ¼rer?",a:["Her Ã§ift sayÄ± iki asal sayÄ±nÄ±n toplamÄ±dÄ±r","Her tek sayÄ± Ã¼Ã§ asal sayÄ±nÄ±n toplamÄ±dÄ±r","Sonsuz sayÄ±da asal sayÄ± vardÄ±r","Asal sayÄ±lar log daÄŸÄ±lÄ±mÄ± izler"],correct:0,diff:"hard"},
{q:"Hangi fizik kavramÄ± 'entropi her zaman artar'Ä± ifade eder?",a:["Termodinamik 1. Yasa","Termodinamik 2. Yasa","Termodinamik 3. Yasa","Termodinamik 0. Yasa"],correct:1,diff:"hard"},
{q:"Hangi sÃ¼reÃ§ endoplazmik retikulum ile iliÅŸkilidir?",a:["ATP sentezi","Protein iÅŸleme ve taÅŸÄ±ma","DNA replikasyonu","HÃ¼cre bÃ¶lÃ¼nmesi"],correct:1,diff:"hard"},
{q:"Hangi teori hem kuantum mekaniÄŸini hem de Ã¶zel gÃ¶reliliÄŸi birleÅŸtirir?",a:["Sicim Teorisi","Kuantum Alan Teorisi","Genel GÃ¶relilik","M-Teorisi"],correct:1,diff:"hard"},
{q:"Hangi matematiksel Ã§erÃ§eve simetri ve dÃ¶nÃ¼ÅŸÃ¼mleri inceler?",a:["Grup Teorisi","SayÄ± Teorisi","Topoloji","Analiz"],correct:0,diff:"hard"},
{q:"Hangi biyolojik molekÃ¼l ribozomda sentezlenir?",a:["DNA","RNA","Protein","Lipid"],correct:2,diff:"hard"},
{q:"Hangi konsept 'hesaplanamaz problem'i tanÄ±mlar?",a:["NP-hard problem","Halting problem","P problemi","NP-complete problem"],correct:1,diff:"hard"},
{q:"Hangi kuantum Ã¶zelliÄŸi teleportasyona olanak tanÄ±r?",a:["SÃ¼perpozisyon","TÃ¼nel etkisi","Kuantum dolanÄ±klÄ±ÄŸÄ±","Decoherence"],correct:2,diff:"hard"},
{q:"Hangi hÃ¼cresel sÃ¼reÃ§ otofaji olarak bilinir?",a:["HÃ¼crenin kendi bileÅŸenlerini sindirmesi","HÃ¼cre bÃ¶lÃ¼nmesi","ProgramlÄ± hÃ¼cre Ã¶lÃ¼mÃ¼","Protein sentezi"],correct:0,diff:"hard"},
{q:"Hangi matematiksel yapÄ± 'yÃ¼zeyler Ã¼zerinde kÃ¶prÃ¼ sayma'yÄ± inceler?",a:["Grafik Teorisi","Topoloji","Cebirsel Geometri","Diferansiyel Geometri"],correct:0,diff:"hard"},
{q:"Hangi fiziksel kavram 'zamandaki yÃ¶n asimetrisi'ni aÃ§Ä±klar?",a:["CP Ä°hlali","Zamana yansÄ±ma simetrisi","CPT teoremi","Parite korunumu"],correct:0,diff:"hard"},
{q:"Hangi enzim RNA'yÄ± parÃ§alar?",a:["Ligaz","Helikaz","RNaz","DNaz"],correct:2,diff:"hard"},
{q:"Hangi matematiksel teoremKÃ¶prÃ¼sberg KÃ¶prÃ¼leri problemini Ã§Ã¶zmÃ¼ÅŸtÃ¼r?",a:["Euler","Gauss","Fermat","Cantor"],correct:0,diff:"hard"},
{q:"Hangi parÃ§acÄ±k kÃ¼tleli olmasÄ±na raÄŸmen keÅŸfedilmemiÅŸtir?",a:["Higgs Bozonu","Graviton","Top quark","Tau nÃ¶trinosu"],correct:1,diff:"hard"},
{q:"Hangi molekÃ¼ler mekanizma gen susturmasÄ±nÄ± saÄŸlar?",a:["DNA metilasyonu","DNA amplifikasyonu","Translasyon","Replikasyon"],correct:0,diff:"hard"},
{q:"Hangi matematiksel konsept 'sonsuz boyutlu uzaylarÄ±' inceler?",a:["Hilbert UzayÄ±","Ã–klid UzayÄ±","Minkowski UzayÄ±","Riemannian manifold"],correct:0,diff:"hard"},
{q:"Hangi fizik kanunu Ä±sÄ± motorlarÄ±nÄ±n verimliliÄŸini sÄ±nÄ±rlar?",a:["Newton YasalarÄ±","Maxwell Denklemleri","Carnot Teoremi","Heisenberg Ä°lkesi"],correct:2,diff:"hard"},
{q:"Hangi hÃ¼cresel yapÄ± sinyal iletiminde kalsiyum depolar?",a:["Mitokondri","Ã‡ekirdek","Endoplazmik retikulum","Golgi aygÄ±tÄ±"],correct:2,diff:"hard"},
{q:"Hangi matematiksel alan 'deformasyonlar altÄ±nda korunan Ã¶zellikleri' inceler?",a:["Analiz","Cebir","Topoloji","Geometri"],correct:2,diff:"hard"},
{q:"Hangi kuantum etki 'parÃ§acÄ±klarÄ±n yoktan yaratÄ±lÄ±p yok olmasÄ±'nÄ± aÃ§Ä±klar?",a:["Kuantum tÃ¼nel etkisi","Casimir Etkisi","Sanal parÃ§acÄ±klar","Zeno Etkisi"],correct:2,diff:"hard"},
{q:"Hangi biyokimyasal yol 6 karbonlu ÅŸekerden 2 karbonlu asetil-CoA Ã¼retir?",a:["Krebs DÃ¶ngÃ¼sÃ¼","Beta Oksidasyon","Glikoliz","Pentoz fosfat yolu"],correct:2,diff:"hard"},
{q:"Hangi matematiksel problem NP-complete kategorisindedir?",a:["Lineer programlama","SÄ±ralama problemi","Boolean satisfiability (SAT)","Matris Ã§arpÄ±mÄ±"],correct:2,diff:"hard"},
{q:"Hangi fiziksel kavram 'Ä±ÅŸÄ±ÄŸÄ±n yerÃ§ekimi tarafÄ±ndan bÃ¼kÃ¼ldÃ¼ÄŸÃ¼'nÃ¼ aÃ§Ä±klar?",a:["Ã–zel GÃ¶relilik","Genel GÃ¶relilik","Kuantum MekaniÄŸi","Elektromanyetizma"],correct:1,diff:"hard"},
{q:"Hangi protein ailesi hÃ¼cre iskeletini oluÅŸturur?",a:["Enzimler","ReseptÃ¶rler","Sitoiskelet proteinleri","TaÅŸÄ±yÄ±cÄ± proteinler"],correct:2,diff:"hard"},
{q:"Hangi matematiksel konsept 'uzayÄ±n eÄŸriliÄŸini' Ã¶lÃ§er?",a:["Metrik tensÃ¶r","Riemann eÄŸrilik tensÃ¶rÃ¼","Christoffel sembolleri","Kovaryant tÃ¼rev"],correct:1,diff:"hard"},
{q:"Hangi kuantum bilgisayar algoritmasÄ± veritabanÄ± aramasÄ±nÄ± hÄ±zlandÄ±rÄ±r?",a:["Shor AlgoritmasÄ±","Grover AlgoritmasÄ±","Deutsch AlgoritmasÄ±","Simon AlgoritmasÄ±"],correct:1,diff:"hard"},
{q:"Hangi hÃ¼cresel mekanizma 'oksidatif stres' yanÄ±tÄ±nÄ± dÃ¼zenler?",a:["Nrf2 yolu","mTOR yolu","MAPK kaskadÄ±","JAK-STAT yolu"],correct:0,diff:"hard"},
{q:"Hangi matematiksel dÃ¶nÃ¼ÅŸÃ¼m karmaÅŸÄ±k sayÄ±larÄ± kullanÄ±r?",a:["Laplace","Z dÃ¶nÃ¼ÅŸÃ¼mÃ¼","Fourier","Hilbert"],correct:2,diff:"hard"},
{q:"Hangi fizik kuramÄ± 'karanlÄ±k enerji'yi aÃ§Ä±klamaya Ã§alÄ±ÅŸÄ±r?",a:["Kuantum Vakum Enerjisi","Sicim Teorisi","DÃ¶ngÃ¼sel GÃ¶relilik","BÃ¼yÃ¼k BirleÅŸim Teorisi"],correct:0,diff:"hard"},
];

// â”€â”€â”€ Shop Items â”€â”€â”€
const SHOP_ITEMS = [
  {id:'extra_joker',icon:'âš¡',name:'Ekstra Joker',desc:'Oyuna +1 joker ile baÅŸla',price:2500,type:'joker'},
  {id:'xp_boost',icon:'â­',name:'XP Boost',desc:'Bir oyun boyunca 2x XP',price:4000,type:'boost'},
  {id:'vip_badge',icon:'ğŸ‘‘',name:'VIP Rozeti',desc:'Profilinde VIP rozeti',price:7500,type:'badge'},
  {id:'legend_badge',icon:'ğŸ†',name:'Efsane Rozeti',desc:'Efsane oyuncu unvanÄ±',price:15000,type:'badge'},
  {id:'gold_frame',icon:'ğŸ–¼ï¸',name:'AltÄ±n Ã‡erÃ§eve',desc:'Profil Ã§erÃ§evesi',price:5000,type:'frame'},
  {id:'glow_name',icon:'âœ¨',name:'Parlayan Ä°sim',desc:'Ä°smin neon glow ile parlar',price:10000,type:'cosmetic'},
  {id:'blue_name',icon:'ğŸ’',name:'Mavi Nick',desc:'KullanÄ±cÄ± adÄ±n mavi renk',price:6000,type:'cosmetic'},
  {id:'season_badge',icon:'ğŸŒŸ',name:'Sezon Rozeti',desc:'Bu sezonun Ã¶zel rozeti',price:12500,type:'badge'},
];

// â”€â”€â”€ TTS â”€â”€â”€
const TTS = {
  synth: window.speechSynthesis,
  selectedVoice: null,
  allVoices: [],
  enabled: true,
  init() {
    const load = () => {
      this.allVoices = this.synth.getVoices();
      const saved = localStorage.getItem('qz_tts_voice');
      if (saved) this.selectedVoice = this.allVoices.find(v => v.name === saved) || null;
      if (!this.selectedVoice) this.selectedVoice = this.allVoices.find(v => v.lang.startsWith('tr')) || this.allVoices[0] || null;
    };
    this.synth.onvoiceschanged = load;
    load();
    this.enabled = localStorage.getItem('qz_tts_enabled') !== 'false';
  },
  setVoice(name) {
    const v = this.allVoices.find(v => v.name === name);
    if (v) { this.selectedVoice = v; localStorage.setItem('qz_tts_voice', name); }
  },
  stop() { this.synth.cancel(); },
  speak(text, rate=1, pitch=1) {
    if (!this.enabled) return Promise.resolve();
    return new Promise(resolve => {
      this.stop();
      const savedRate = parseFloat(localStorage.getItem('qz_tts_rate') || '0.9');
      const u = new SpeechSynthesisUtterance(text);
      u.lang = this.selectedVoice ? this.selectedVoice.lang : 'tr-TR';
      u.rate = savedRate * rate;
      u.pitch = pitch;
      if (this.selectedVoice) u.voice = this.selectedVoice;
      u.onend = resolve; u.onerror = resolve;
      this.synth.speak(u);
    });
  },
  async readQuestion(q, answers) {
    G.inputLocked = true; updateAnswerState();
    await this.speak(q, 0.9, 1.0);
    await delay(200);
    const letters = ['A','B','C','D'];
    for (let i = 0; i < answers.length; i++) { await this.speak(`${letters[i]}... ${answers[i]}`, 0.9, 1.0); await delay(100); }
    G.inputLocked = false; updateAnswerState();
  },
  async sayCorrect() {
    const phrases = ['Harika bir cevap!','MÃ¼kemmel gidiyorsun!','DoÄŸru cevap, devam edelim!','MuhteÅŸem performans!','Bilgin etkileyici!'];
    await this.speak(phrases[Math.floor(Math.random()*phrases.length)], 1.0, 1.0);
  },
  async sayWrong(correctAnswer) {
    const phrases = ['Maalesef yanlÄ±ÅŸ cevap.','Bu soruda hata yaptÄ±n.','DoÄŸru cevaplayamadÄ±n.'];
    await this.speak(phrases[Math.floor(Math.random()*phrases.length)], 0.95, 0.95);
    await delay(200);
    await this.speak(`DoÄŸru cevap: ${correctAnswer}`, 0.95, 1.0);
  }
};

// â”€â”€â”€ BGM â”€â”€â”€
const BGM = {
  ctx:null, gainNode:null, volume:0.12, playing:false,
  init() {
    try { this.ctx = new (window.AudioContext||window.webkitAudioContext)(); this.gainNode = this.ctx.createGain(); this.gainNode.gain.value = 0; this.gainNode.connect(this.ctx.destination); } catch(e){}
  },
  play() { if(!this.ctx||this.playing)return; this.playing=true; this.gainNode.gain.setTargetAtTime(this.volume,this.ctx.currentTime,1); this._loop(); },
  stop() { if(!this.gainNode)return; this.gainNode.gain.setTargetAtTime(0,this.ctx.currentTime,0.5); this.playing=false; },
  _loop() {
    if(!this.playing||!this.ctx)return;
    const now=this.ctx.currentTime,notes=[220,246.94,261.63,293.66,329.63,349.23,392,440],pattern=[0,2,4,5,7,5,4,2,0];
    let t=now;
    pattern.forEach(ni=>{const osc=this.ctx.createOscillator(),g=this.ctx.createGain();osc.connect(g);g.connect(this.gainNode);osc.frequency.value=notes[ni%notes.length];osc.type='sine';g.gain.setValueAtTime(0,t);g.gain.linearRampToValueAtTime(0.4,t+0.05);g.gain.exponentialRampToValueAtTime(0.001,t+0.3);osc.start(t);osc.stop(t+0.35);t+=0.6;});
    setTimeout(()=>this._loop(),(t-now)*1000);
  },
  correct() {
    if(!this.ctx)return;const now=this.ctx.currentTime;
    [523.25,659.25,783.99].forEach((f,i)=>{const o=this.ctx.createOscillator(),g=this.ctx.createGain();o.connect(g);g.connect(this.ctx.destination);o.frequency.value=f;o.type='triangle';const t=now+i*0.12;g.gain.setValueAtTime(0,t);g.gain.linearRampToValueAtTime(0.3,t+0.03);g.gain.exponentialRampToValueAtTime(0.001,t+0.4);o.start(t);o.stop(t+0.45);});
  },
  wrong() {
    if(!this.ctx)return;const now=this.ctx.currentTime;
    [220,196,175].forEach((f,i)=>{const o=this.ctx.createOscillator(),g=this.ctx.createGain();o.connect(g);g.connect(this.ctx.destination);o.frequency.value=f;o.type='sawtooth';const t=now+i*0.15;g.gain.setValueAtTime(0,t);g.gain.linearRampToValueAtTime(0.2,t+0.05);g.gain.exponentialRampToValueAtTime(0.001,t+0.5);o.start(t);o.stop(t+0.55);});
  }
};

// â”€â”€â”€ Utils â”€â”€â”€
const delay = ms => new Promise(r => setTimeout(r, ms));

function toast(msg, type='info') {
  const c = document.getElementById('toast-container');
  const t = document.createElement('div');
  t.className = `toast ${type}`; t.textContent = msg; c.appendChild(t);
  setTimeout(()=>{ t.style.opacity='0'; t.style.transform='translateX(30px)'; setTimeout(()=>t.remove(),400); }, 3000);
}

function showEffect(txt, cls) {
  const o = document.getElementById('effect-overlay'), t = document.getElementById('effect-text');
  t.textContent = txt; t.className = `effect-text ${cls}`;
  o.classList.remove('hidden');
  setTimeout(()=>o.classList.add('hidden'), 1700);
}

function closeModal(id) { document.getElementById(id).classList.add('hidden'); }
function openModal(id) { document.getElementById(id).classList.remove('hidden'); }
function showScreen(name) {
  ['auth','lobby','game'].forEach(s=>document.getElementById(s+'-screen').classList.add('hidden'));
  document.getElementById(name+'-screen').classList.remove('hidden');
}

// â”€â”€â”€ Auth usernameâ†’email dÃ¶nÃ¼ÅŸÃ¼mÃ¼ â”€â”€â”€
// Firebase Auth email ister, kullanÄ±cÄ± adÄ± kullanÄ±yoruz â†’ fake email oluÅŸtur
function toEmail(username) { return username.toLowerCase() + '@quizora.game'; }

// â”€â”€â”€ AUTH â”€â”€â”€
let authMode = 'login';
function authTab(mode) {
  authMode = mode;
  document.querySelectorAll('.auth-tab').forEach((b,i) => b.classList.toggle('active',(i===0&&mode==='login')||(i===1&&mode==='register')));
  document.getElementById('login-form').classList.toggle('hidden', mode!=='login');
  document.getElementById('register-form').classList.toggle('hidden', mode!=='register');
  document.getElementById('auth-err').textContent = '';
}
function setAuthErr(msg) { document.getElementById('auth-err').textContent = msg; }
function checkStrength(p) {
  let score=0;
  if(p.length>=6)score++;if(p.length>=10)score++;if(/[A-Z]/.test(p))score++;if(/[0-9]/.test(p))score++;if(/[^A-Za-z0-9]/.test(p))score++;
  const fill=document.getElementById('strength-fill');
  const colors=['#ff3355','#ff8c00','#ffaa00','#00d4aa','#00ff88'];
  fill.style.width=(score/5*100)+'%';fill.style.background=colors[score-1]||'#ff3355';
}
function validateUser(u) {
  if(!u||u.length<3)return 'KullanÄ±cÄ± adÄ± en az 3 karakter olmalÄ±.';
  if(u.length>20)return 'KullanÄ±cÄ± adÄ± max 20 karakter.';
  if(!/^[a-zA-Z0-9_]+$/.test(u))return 'Sadece harf, rakam ve _ kullanÄ±labilir.';
  return null;
}

async function doRegister() {
  const u = document.getElementById('r-user').value.trim();
  const p = document.getElementById('r-pass').value;
  const p2 = document.getElementById('r-pass2').value;
  const ue = validateUser(u);
  if (ue) return setAuthErr(ue);
  if (!p||p.length<6) return setAuthErr('Åifre en az 6 karakter olmalÄ±.');
  if (p !== p2) return setAuthErr('Åifreler eÅŸleÅŸmiyor.');

  const { auth, db, createUserWithEmailAndPassword, doc, setDoc, serverTimestamp } = window._FB;
  try {
    const email = toEmail(u);
    const cred = await createUserWithEmailAndPassword(auth, email, p);
    const uid = cred.user.uid;

    // KullanÄ±cÄ± adÄ± Ã§akÄ±ÅŸma kontrolÃ¼ (Firestore'da kontrol)
    const { collection, query, getDocs } = window._FB;
    const snap = await getDocs(collection(db, 'users'));
    const taken = snap.docs.some(d => d.data().username && d.data().username.toLowerCase() === u.toLowerCase() && d.id !== uid);
    if (taken) {
      // Bu UID ile silme yapÄ±lamaz auth tarafÄ±nda, kullanÄ±cÄ±ya hata ver
      setAuthErr('Bu kullanÄ±cÄ± adÄ± zaten alÄ±nmÄ±ÅŸ.');
      return;
    }

    await setDoc(doc(db, 'users', uid), {
      username: u,
      xp: 0, coins: 0, wins: 0, losses: 0, games: 0,
      items: [], joined: serverTimestamp()
    });

    setAuthErr('');
    // onAuthStateChanged tetiklenecek ve enterLobby Ã§aÄŸrÄ±lacak
  } catch(e) {
    if (e.code === 'auth/email-already-in-use') setAuthErr('Bu kullanÄ±cÄ± adÄ± zaten alÄ±nmÄ±ÅŸ.');
    else setAuthErr('Hata: ' + e.message);
  }
}

async function doLogin() {
  const u = document.getElementById('l-user').value.trim();
  const p = document.getElementById('l-pass').value;
  if (!u||!p) return setAuthErr('TÃ¼m alanlarÄ± doldurun.');

  const { auth, setPersistence, browserLocalPersistence, browserSessionPersistence, signInWithEmailAndPassword } = window._FB;
  const remember = document.getElementById('l-remember').checked;

  try {
    await setPersistence(auth, remember ? browserLocalPersistence : browserSessionPersistence);
    await signInWithEmailAndPassword(auth, toEmail(u), p);
    setAuthErr('');
    // onAuthStateChanged tetiklenecek
  } catch(e) {
    if (e.code === 'auth/user-not-found' || e.code === 'auth/invalid-credential') setAuthErr('KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±.');
    else if (e.code === 'auth/wrong-password') setAuthErr('Åifre hatalÄ±.');
    else setAuthErr('GiriÅŸ hatasÄ±: ' + e.message);
  }
}

async function doLogout() {
  TTS.stop(); BGM.stop();
  const { auth, signOut } = window._FB;
  await signOut(auth);
  // onAuthStateChanged tetiklenecek â†’ showScreen('auth')
}

// â”€â”€â”€ Lobby â”€â”€â”€
function enterLobby() {
  showScreen('lobby');
  updateLobbyUI();
}

function updateLobbyUI() {
  const u = window._userData;
  if (!u) return;
  const lv = getLevelInfo(u.xp||0);
  const pct = getXpPercent(u.xp||0);
  document.getElementById('hdr-avatar').textContent = u.username[0].toUpperCase();
  document.getElementById('hdr-name').textContent = u.username;
  document.getElementById('hdr-level').textContent = `LVL ${lv.level} â€” ${lv.name}`;
  document.getElementById('hdr-wallet').textContent = (u.coins||0).toLocaleString();
  document.getElementById('s-games').textContent = u.games||0;
  document.getElementById('s-wins').textContent = u.wins||0;
  document.getElementById('s-xp').textContent = (u.xp||0).toLocaleString();
  document.getElementById('s-money').textContent = (u.coins||0).toLocaleString();
  document.getElementById('xp-level-display').textContent = `SEVÄ°YE ${lv.level} â€” ${lv.name}`;
  document.getElementById('xp-progress-text').textContent = `${(u.xp||0).toLocaleString()} / ${lv.max===Infinity?'âˆ':lv.max.toLocaleString()} XP`;
  document.getElementById('xp-bar').style.width = pct + '%';
  const adminBtn = document.getElementById('admin-btn');
  if (adminBtn) adminBtn.style.display = u.username.toLowerCase() === 'ercanulger' ? 'block' : 'none';
}

// â”€â”€â”€ Leaderboard (realtime) â”€â”€â”€
let _lbUnsub = null;
function openLeaderboard() {
  const { db, collection, query, orderBy, limit, onSnapshot } = window._FB;
  const me = window._userData?.username?.toLowerCase();

  // Realtime dinle
  if (_lbUnsub) _lbUnsub();
  const q = query(collection(db, 'users'), orderBy('xp','desc'), limit(20));
  _lbUnsub = onSnapshot(q, (snap) => {
    const users = snap.docs.map(d => d.data());
    const medals = ['ğŸ¥‡','ğŸ¥ˆ','ğŸ¥‰'];
    const list = document.getElementById('lb-list');
    list.innerHTML = users.length === 0
      ? '<div style="text-align:center;color:var(--text2);padding:20px">HenÃ¼z kayÄ±tlÄ± kullanÄ±cÄ± yok.</div>'
      : users.map((u,i) => {
          const iMe = u.username?.toLowerCase() === me;
          const cls = i<3 ? 'top'+(i+1) : '';
          const wr = (u.games||0) > 0 ? Math.round((u.wins||0)/(u.games||1)*100) : 0;
          return `<div class="lb-row ${cls} ${iMe?'me':''}">
            <div class="lb-rank">${i<3?medals[i]:'#'+(i+1)}</div>
            <div class="lb-av">${(u.username||'?')[0].toUpperCase()}</div>
            <div class="lb-name">${u.username||'?'}${iMe?' (sen)':''}</div>
            <div style="text-align:right">
              <div class="lb-xp">â­ ${(u.xp||0).toLocaleString()}</div>
              <div class="lb-wr">${wr}% WR | ${u.games||0} oyun</div>
            </div>
          </div>`;
        }).join('');
  });

  openModal('modal-lb');
}

// modal kapanÄ±nca dinlemeyi durdur
document.getElementById('modal-lb').addEventListener('click', (e) => {
  if (e.target === e.currentTarget) { if (_lbUnsub) { _lbUnsub(); _lbUnsub = null; } closeModal('modal-lb'); }
});

// â”€â”€â”€ Shop â”€â”€â”€
function openShop() {
  const u = window._userData;
  document.getElementById('shop-balance').textContent = (u.coins||0).toLocaleString();
  const grid = document.getElementById('shop-grid');
  grid.innerHTML = SHOP_ITEMS.map(item => {
    const owned = (u.items||[]).includes(item.id);
    return `<div class="shop-item ${owned?'owned':''}">
      <div class="shop-icon">${item.icon}</div>
      <div class="shop-name">${item.name}</div>
      <div class="shop-desc">${item.desc}</div>
      ${owned
        ? '<div class="shop-owned">âœ“ SAHÄ°PSÄ°N</div>'
        : `<button onclick="buyItem('${item.id}')" style="background:none;border:none;cursor:pointer;width:100%"><div class="shop-price">ğŸ’° ${item.price.toLocaleString()}</div></button>`
      }
    </div>`;
  }).join('');
  openModal('modal-shop');
}

async function buyItem(id) {
  const u = window._userData;
  const item = SHOP_ITEMS.find(i=>i.id===id);
  if (!item) return;
  if ((u.items||[]).includes(id)) return toast('Zaten sahipsin!','info');
  if ((u.coins||0) < item.price) return toast('Yetersiz bakiye!','error');
  const newCoins = (u.coins||0) - item.price;
  const newItems = [...(u.items||[]), id];
  await window._saveUserData({ coins: newCoins, items: newItems });
  toast(`${item.icon} ${item.name} satÄ±n alÄ±ndÄ±!`,'gold');
  openShop();
  updateLobbyUI();
}

// â”€â”€â”€ Profile â”€â”€â”€
function openProfile() {
  const u = window._userData;
  const lv = getLevelInfo(u.xp||0);
  const pct = getXpPercent(u.xp||0);
  document.getElementById('prof-title').textContent = u.username;
  document.getElementById('prof-avatar').textContent = u.username[0].toUpperCase();
  document.getElementById('prof-games').textContent = u.games||0;
  document.getElementById('prof-wins').textContent = u.wins||0;
  document.getElementById('prof-wr').textContent = (u.games||0)>0 ? Math.round((u.wins||0)/(u.games||1)*100)+'%' : '0%';
  document.getElementById('prof-level').textContent = `SEVÄ°YE ${lv.level} â€” ${lv.name}`;
  document.getElementById('prof-xp-txt').textContent = `${(u.xp||0).toLocaleString()} / ${lv.max===Infinity?'âˆ':lv.max.toLocaleString()} XP`;
  document.getElementById('prof-xp-bar').style.width = pct+'%';
  const ownedItems = SHOP_ITEMS.filter(i=>(u.items||[]).includes(i.id));
  document.getElementById('prof-items').textContent = ownedItems.length>0 ? 'Ã–ÄŸeler: '+ownedItems.map(i=>i.icon+i.name).join(', ') : 'HenÃ¼z maÄŸaza Ã¶ÄŸesi yok.';
  openModal('modal-profile');
}

// â”€â”€â”€ Admin (Firestore'da questions koleksiyonu) â”€â”€â”€
function openAdmin() {
  adminTab('coins');
  openModal('modal-admin');
  renderAdminUsers();
}

function adminTab(tab) {
  document.getElementById('adm-panel-coins').classList.toggle('hidden', tab !== 'coins');
  document.getElementById('adm-panel-questions').classList.toggle('hidden', tab !== 'questions');
  document.getElementById('adm-tab-coins').classList.toggle('active', tab === 'coins');
  document.getElementById('adm-tab-questions').classList.toggle('active', tab === 'questions');
  if (tab === 'questions') renderAdminList();
  if (tab === 'coins') renderAdminUsers();
}

// â”€â”€â”€ KullanÄ±cÄ± listesi + coin ekleme â”€â”€â”€
let _adminUserUnsub = null;

async function renderAdminUsers() {
  const { db, collection, query, orderBy, onSnapshot } = window._FB;
  const el = document.getElementById('adm-user-list');
  el.innerHTML = '<div style="text-align:center;color:var(--text2);padding:20px">YÃ¼kleniyor...</div>';

  if (_adminUserUnsub) { _adminUserUnsub(); _adminUserUnsub = null; }

  const q = query(collection(db, 'users'), orderBy('xp', 'desc'));
  _adminUserUnsub = onSnapshot(q, (snap) => {
    if (snap.empty) { el.innerHTML = '<div style="text-align:center;color:var(--text2);padding:20px">HenÃ¼z kullanÄ±cÄ± yok.</div>'; return; }
    const myUid = window._currentUID;
    el.innerHTML = snap.docs.map(d => {
      const u = d.data();
      const uid = d.id;
      const isMe = uid === myUid;
      return `<div style="display:flex;align-items:center;gap:10px;padding:12px;background:var(--glass);border:1px solid ${isMe?'rgba(0,195,255,0.3)':'var(--border)'};border-radius:12px;margin-bottom:8px;">
        <div style="width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--blue2),var(--purple2));display:flex;align-items:center;justify-content:center;font-weight:700;font-size:0.85rem;flex-shrink:0;">${(u.username||'?')[0].toUpperCase()}</div>
        <div style="flex:1;min-width:0;">
          <div style="font-weight:700;font-size:0.88rem;color:${isMe?'var(--blue)':'var(--text)'};">${u.username||'?'}${isMe?' (sen)':''}</div>
          <div style="font-size:0.72rem;color:var(--text2);">ğŸ’° ${(u.coins||0).toLocaleString()} coin &nbsp;Â·&nbsp; â­ ${(u.xp||0).toLocaleString()} XP &nbsp;Â·&nbsp; ğŸ® ${u.games||0} oyun</div>
        </div>
        <div style="display:flex;gap:6px;align-items:center;flex-shrink:0;">
          <input type="number" id="coin-input-${uid}" placeholder="Miktar" min="1" style="width:80px;padding:6px 8px;background:rgba(0,0,0,0.4);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:0.82rem;outline:none;">
          <button onclick="adminAddCoin('${uid}','${u.username||''}','${u.coins||0}')" style="padding:6px 12px;background:linear-gradient(135deg,var(--gold2),var(--gold));border:none;border-radius:8px;color:#000;font-weight:700;font-size:0.78rem;cursor:pointer;white-space:nowrap;">+ COIN</button>
        </div>
      </div>`;
    }).join('');
  });
}

async function adminAddCoin(uid, username, currentCoins) {
  const input = document.getElementById('coin-input-' + uid);
  const amount = parseInt(input?.value);
  if (!amount || amount <= 0) return toast('GeÃ§erli bir miktar girin!', 'error');

  const { db, doc, updateDoc } = window._FB;
  try {
    const newCoins = parseInt(currentCoins) + amount;
    await updateDoc(doc(db, 'users', uid), { coins: newCoins });

    // EÄŸer bu kendi hesabÄ±mÄ±zsa local state gÃ¼ncelle
    if (uid === window._currentUID && window._userData) {
      window._userData.coins = newCoins;
      updateLobbyUI();
    }

    if (input) input.value = '';
    toast(`âœ… ${username} hesabÄ±na ${amount.toLocaleString()} coin eklendi!`, 'gold');
  } catch(e) {
    toast('Hata: ' + e.message, 'error');
  }
}

// Modal kapanÄ±nca unsub
document.getElementById('modal-admin').addEventListener('click', (e) => {
  if (e.target === e.currentTarget) {
    if (_adminUserUnsub) { _adminUserUnsub(); _adminUserUnsub = null; }
    closeModal('modal-admin');
  }
});

async function renderAdminList() {
  let qs = window._cachedQuestions || DEFAULT_QUESTIONS;
  const el = document.getElementById('adm-q-list');
  el.innerHTML = `<div class="section-title">Mevcut Sorular (${qs.length})</div>` +
    [...qs].reverse().slice(0,10).map(q => `
      <div class="admin-q-item">
        <span style="flex:1;color:var(--text2)">${(q.q||'').substring(0,40)}...</span>
        <span style="margin:0 8px;font-size:0.7rem;color:${q.diff==='easy'?'var(--green)':q.diff==='medium'?'var(--gold2)':'var(--red)'}">${q.diff}</span>
        ${q.id && typeof q.id === 'string' ? `<button class="btn-del" onclick="adminDelQ('${q.id}')">SÄ°L</button>` : ''}
      </div>
    `).join('');
}

async function adminAddQ() {
  const q = document.getElementById('adm-q').value.trim();
  const a = document.getElementById('adm-a').value.trim();
  const b = document.getElementById('adm-b').value.trim();
  const c = document.getElementById('adm-c').value.trim();
  const d = document.getElementById('adm-d').value.trim();
  const diff = document.getElementById('adm-diff').value;
  if (!q||!a||!b||!c||!d) return toast('TÃ¼m alanlarÄ± doldurun!','error');

  const { db, collection, addDoc, serverTimestamp } = window._FB;
  try {
    await addDoc(collection(db, 'questions'), {
      q, a:[a,b,c,d], correct:0, diff,
      createdAt: serverTimestamp()
    });
    toast('Soru eklendi!','success');
    ['adm-q','adm-a','adm-b','adm-c','adm-d'].forEach(id=>document.getElementById(id).value='');
    setTimeout(renderAdminList, 800);
  } catch(e) {
    toast('Hata: ' + e.message, 'error');
  }
}

async function adminDelQ(id) {
  if (!id || typeof id !== 'string') return;
  const { db, doc, deleteDoc } = window._FB;
  try {
    await deleteDoc(doc(db, 'questions', id));
    toast('Soru silindi.','info');
    setTimeout(renderAdminList, 500);
  } catch(e) {
    toast('Hata: ' + e.message,'error');
  }
}

// â”€â”€â”€ Game State â”€â”€â”€
let G = {
  questions:[], current:0, answers:0,
  xpEarned:0, coinEarned:0, prizeTotal:0,
  jokers:{fifty:false,audience:false,phone:false},
  timerInterval:null, timerSec:30, timerMax:30,
  inputLocked:true, barrierPassed:-1, xpBoostActive:false
};

function getGameQuestions() {
  // Her zaman DEFAULT_QUESTIONS + Firebase sorularÄ±nÄ± birleÅŸtir
  const firebaseQs = (window._cachedQuestions && window._cachedQuestions.length > 0)
    ? window._cachedQuestions.filter(q => q.q && q.a && q.a.length === 4 && typeof q.correct === 'number' && q.diff)
    : [];
  const all = [...DEFAULT_QUESTIONS, ...firebaseQs];

  const easy = shuffle(all.filter(q=>q.diff==='easy'));
  const medium = shuffle(all.filter(q=>q.diff==='medium'));
  const hard = shuffle(all.filter(q=>q.diff==='hard'));
  const result = [...easy.slice(0,5),...medium.slice(0,5),...hard.slice(0,5)];
  while (result.length < 15) {
    const pool = [...easy,...medium,...hard];
    if(pool.length===0) break;
    result.push(pool[result.length % pool.length]);
  }
  return result.slice(0,15).map(q=>{
    const correct = q.a[q.correct];
    const shuffled = shuffle([...q.a]);
    return {...q, a:shuffled, correct:shuffled.indexOf(correct)};
  });
}

function shuffle(arr) {
  const a=[...arr];
  for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}
  return a;
}

async function startGame() {
  closeModal('modal-gameover');
  BGM.init(); TTS.init();
  const u = window._userData;
  if (!u) return;
  G.xpBoostActive = (u.items||[]).includes('xp_boost');
  G.questions = getGameQuestions();
  G.current=0; G.answers=0; G.xpEarned=0; G.coinEarned=0; G.prizeTotal=0;
  G.jokers={fifty:false,audience:false,phone:false};
  G.barrierPassed=-1; G.inputLocked=true;
  clearTimer();
  showScreen('game');
  document.getElementById('g-qnum').textContent='1/15';
  document.getElementById('g-xp').textContent='+0';
  document.getElementById('audience-result').innerHTML='';
  document.getElementById('phone-result').innerHTML='';
  resetJokerButtons();
  renderBarriers();
  BGM.play();
  await delay(400);
  await loadQuestion();
}

async function loadQuestion() {
  if (G.current >= G.questions.length) { await endGame(true); return; }
  const q = G.questions[G.current];
  const qi = G.current;
  document.getElementById('q-num-label').textContent=`SORU ${qi+1}`;
  document.getElementById('g-qnum').textContent=`${qi+1}/15`;
  document.getElementById('q-diff-badge').textContent=q.diff==='easy'?'KOLAY':q.diff==='medium'?'ORTA':'ZOR';
  document.getElementById('q-diff-badge').className=`q-diff ${q.diff}`;
  document.getElementById('q-text').textContent=q.q;
  document.getElementById('g-prize').textContent=PRIZE_TABLE[qi].toLocaleString()+' â‚º';
  document.getElementById('audience-result').innerHTML='';
  document.getElementById('phone-result').innerHTML='';
  renderAnswers(q.a,-1,-1);
  renderBarriers();
  updateJokerBtns();
  const noTimer = qi > BARRIERS[1];
  document.getElementById('timer-lbl').textContent=noTimer?'SÃœRE YOK':'SÃœRE';
  if (noTimer) {
    document.getElementById('timer-circle').style.cssText='--pct:100%';
    document.getElementById('timer-num').textContent='âˆ';
    document.getElementById('timer-circle').classList.remove('danger');
  } else {
    const sec=qi<5?30:qi<10?25:20;
    G.timerMax=sec; startTimer(sec);
  }
  await TTS.readQuestion(q.q, q.a);
}

function renderAnswers(answers, correctIdx, wrongIdx) {
  const letters=['A','B','C','D'];
  document.getElementById('answers-grid').innerHTML = answers.map((ans,i)=>{
    let cls='';
    if(correctIdx>=0&&i===correctIdx)cls='correct';
    else if(wrongIdx>=0&&i===wrongIdx)cls='wrong';
    return `<button class="answer-btn ${cls}" data-idx="${i}" onclick="pickAnswer(${i})" ${G.inputLocked?'disabled':''}>
      <div class="answer-letter">${letters[i]}</div>
      <span style="color:#ffffff">${ans}</span>
    </button>`;
  }).join('');
}

function updateAnswerState() {
  document.querySelectorAll('.answer-btn').forEach(b=>{ b.disabled=G.inputLocked; });
}

async function pickAnswer(idx) {
  if (G.inputLocked) return;
  G.inputLocked=true; clearTimer();
  const q=G.questions[G.current];
  const correct=q.correct;
  const isCorrect=idx===correct;
  renderAnswers(q.a, correct, isCorrect?-1:idx);
  if (isCorrect) {
    BGM.correct();
    const xp=XP_TABLE[G.current]*(G.xpBoostActive?2:1);
    const coin=COIN_TABLE[G.current];
    G.xpEarned+=xp; G.coinEarned+=coin; G.prizeTotal=PRIZE_TABLE[G.current]; G.answers++;
    if (BARRIERS.includes(G.current)) G.barrierPassed=G.current;
    document.getElementById('g-xp').textContent=`+${G.xpEarned}`;
    showEffect(`âœ“ +${xp} XP`,'correct-color');
    await TTS.sayCorrect();
    G.current++;
    await delay(600);
    await loadQuestion();
  } else {
    BGM.wrong();
    showEffect('âœ— YANLIÅ!','wrong-color');
    setGameStatus('YanlÄ±ÅŸ cevap! Oyun bitti.','error');
    await TTS.sayWrong(q.a[correct]);
    await delay(800);
    const keepPrize=G.barrierPassed>=0?PRIZE_TABLE[G.barrierPassed]:0;
    await endGame(false, keepPrize);
  }
}

function setGameStatus(msg,type='') {
  const el=document.getElementById('game-status');
  el.textContent=msg;
  el.style.color=type==='error'?'var(--red)':type==='success'?'var(--green)':'var(--text2)';
}

function startTimer(sec) {
  clearTimer(); G.timerSec=sec; G.timerMax=sec; updateTimerUI();
  G.timerInterval=setInterval(async()=>{
    G.timerSec--; updateTimerUI();
    if(G.timerSec<=0){
      clearTimer(); G.inputLocked=true;
      setGameStatus('SÃ¼re doldu!','error');
      await delay(500);
      const keepPrize=G.barrierPassed>=0?PRIZE_TABLE[G.barrierPassed]:0;
      await endGame(false,keepPrize);
    }
  },1000);
}
function clearTimer() { if(G.timerInterval){clearInterval(G.timerInterval);G.timerInterval=null;} }
function updateTimerUI() {
  const pct=(G.timerSec/G.timerMax*100).toFixed(1);
  const circle=document.getElementById('timer-circle');
  circle.style.setProperty('--pct',pct+'%');
  document.getElementById('timer-num').textContent=G.timerSec;
  circle.classList.toggle('danger',G.timerSec<=5);
}

function renderBarriers() {
  const bar=document.getElementById('barriers-bar');
  const marks=[4,9,14];
  bar.innerHTML=marks.map(i=>{
    let cls='future';
    if(G.current>i)cls='passed';
    else if(G.current===i+1||(i===14&&G.current===14))cls='current';
    const label=i===4?'ğŸ›¡ï¸ GÃ¼venli':i===9?'ğŸ›¡ï¸ GÃ¼venli':'ğŸ† Final';
    return `<div class="barrier-item ${cls}">${label} Q${i+1}</div>`;
  }).join('');
}

function resetJokerButtons() {
  ['fifty','audience','phone'].forEach(j=>{ const btn=document.getElementById('j-'+j); btn.classList.remove('used'); btn.disabled=false; });
}
function updateJokerBtns() {
  ['fifty','audience','phone'].forEach(j=>{ const btn=document.getElementById('j-'+j); if(G.jokers[j]){btn.classList.add('used');btn.disabled=true;} });
}

async function useJoker(type) {
  if(G.jokers[type]||G.inputLocked)return;
  G.jokers[type]=true; updateJokerBtns();
  const q=G.questions[G.current];
  if(type==='fifty'){
    const wrongIndices=q.a.map((_,i)=>i).filter(i=>i!==q.correct);
    const toRemove=shuffle(wrongIndices).slice(0,2);
    document.querySelectorAll('.answer-btn').forEach((btn,i)=>{ if(toRemove.includes(i))btn.classList.add('hidden-joker'); });
    toast('%50 jokeri kullanÄ±ldÄ±!','info');
    await TTS.speak('Elli yÃ¼zde jokeri kullanÄ±ldÄ±. Ä°ki ÅŸÄ±k elendi.',0.95,1.0);
  } else if(type==='audience'){
    const votes=q.a.map((_,i)=>i===q.correct?55+Math.floor(Math.random()*25):Math.floor(Math.random()*20));
    const total=votes.reduce((a,b)=>a+b,0);
    const pcts=votes.map(v=>Math.round(v/total*100));
    const letters=['A','B','C','D'];
    document.getElementById('audience-result').innerHTML=`<div class="audience-chart">${pcts.map((p,i)=>`<div class="aud-bar-wrap"><div class="aud-pct">${p}%</div><div class="aud-bar-bg"><div class="aud-bar-fill" style="height:${p}%"></div></div><div class="aud-label">${letters[i]}</div></div>`).join('')}</div>`;
    toast('Seyirci jokeri kullanÄ±ldÄ±!','info');
    await TTS.speak(`Seyirci oyu kullanÄ±ldÄ±. En yÃ¼ksek oy: ${letters[pcts.indexOf(Math.max(...pcts))]} ÅŸÄ±kkÄ±, yÃ¼zde ${Math.max(...pcts)}.`,0.9,1.0);
  } else if(type==='phone'){
    const correct=q.a[q.correct];
    const confidence=60+Math.floor(Math.random()*30);
    const phoneTexts=[
      `Hmm, bu soruyu hatÄ±rlÄ±yorum... SanÄ±rÄ±m cevap "${correct}" olmalÄ±. %${confidence} eminimim.`,
      `ArkadaÅŸÄ±m, bence cevap "${correct}". Ama %${confidence} emin olabiliyorum, karar senin.`,
      `Hmm... Ã§ok kesin konuÅŸmak istemiyorum ama "${correct}" gibi gÃ¶rÃ¼nÃ¼yor, yÃ¼zde ${confidence}.`,
    ];
    const txt=phoneTexts[Math.floor(Math.random()*phoneTexts.length)];
    document.getElementById('phone-result').innerHTML=`<div class="phone-msg">ğŸ“ "${txt}"</div>`;
    toast('Telefon jokeri kullanÄ±ldÄ±!','info');
    await TTS.speak(txt,0.9,1.05);
  }
}

async function endGame(won, keepPrize=null) {
  clearTimer(); TTS.stop(); BGM.stop(); G.inputLocked=true;
  const finalPrize=won?G.prizeTotal:(keepPrize!==null?keepPrize:0);
  const xp=G.xpEarned;
  const coin=G.coinEarned+Math.floor(finalPrize/1000);
  const u=window._userData;
  if (u) {
    const newXp=(u.xp||0)+xp;
    const newCoins=(u.coins||0)+coin;
    const newGames=(u.games||0)+1;
    const newWins=won?(u.wins||0)+1:(u.wins||0);
    const newLosses=!won?(u.losses||0)+1:(u.losses||0);
    await window._saveUserData({ xp:newXp, coins:newCoins, games:newGames, wins:newWins, losses:newLosses });
  }
  const modal=document.getElementById('modal-gameover-inner');
  modal.className='modal '+(won?'win':'lose');
  document.getElementById('go-icon').textContent=won?'ğŸ†':'ğŸ’€';
  document.getElementById('go-title').textContent=won?'TEBRÄ°KLER!':'MAÄLUBÄ°YET';
  document.getElementById('go-sub').textContent=won?'TÃ¼m sorularÄ± bildiniz!':G.barrierPassed>=0?'GÃ¼venli baraja kadar geldiniz!':'Bir dahaki sefere...';
  document.getElementById('go-qright').textContent=G.answers;
  document.getElementById('go-prize').textContent=finalPrize.toLocaleString()+' â‚º';
  document.getElementById('go-reward').textContent=`â­ +${xp} XP  Â·  ğŸ’° +${coin} Coin`;
  openModal('modal-gameover');
  updateLobbyUI();
}

async function withdrawGame() {
  if (G.inputLocked) return;
  if (G.current === 0) return toast('HenÃ¼z hiÃ§ soru cevaplanmadÄ±!', 'info');

  const currentPrize = G.current > 0 ? PRIZE_TABLE[G.current - 1] : 0;
  if (currentPrize === 0) return toast('HenÃ¼z kazanÄ±lan para yok!', 'info');

  if (!confirm(`${currentPrize.toLocaleString()} â‚º ile Ã§ekilmek istiyor musunuz?`)) return;

  clearTimer(); TTS.stop(); BGM.stop(); G.inputLocked = true;
  showEffect('ğŸ’° Ã‡EKÄ°LDÄ°!', 'correct-color');
  setGameStatus('Tebrikler! KazancÄ±nÄ±zla Ã§ekildiniz.', 'success');

  const xp = G.xpEarned;
  const coin = G.coinEarned + Math.floor(currentPrize / 1000);

  const u = window._userData;
  if (u) {
    await window._saveUserData({
      xp: (u.xp||0) + xp,
      coins: (u.coins||0) + coin,
      games: (u.games||0) + 1,
      wins: (u.wins||0) + 1
    });
  }

  await delay(800);
  await TTS.speak(`Tebrikler! ${currentPrize.toLocaleString()} lira ile Ã§ekildiniz.`, 1.0, 1.0);

  const modal = document.getElementById('modal-gameover-inner');
  modal.className = 'modal win';
  document.getElementById('go-icon').textContent = 'ğŸ’°';
  document.getElementById('go-title').textContent = 'Ã‡EKÄ°LDÄ°NÄ°Z!';
  document.getElementById('go-sub').textContent = 'KazancÄ±nÄ±zla ayrÄ±ldÄ±nÄ±z!';
  document.getElementById('go-qright').textContent = G.answers;
  document.getElementById('go-prize').textContent = currentPrize.toLocaleString() + ' â‚º';
  document.getElementById('go-reward').textContent = `â­ +${xp} XP  Â·  ğŸ’° +${coin} Coin`;
  openModal('modal-gameover');
  updateLobbyUI();
}

async function exitGame() {
  if(!confirm('Oyundan Ã§Ä±kmak istiyor musunuz? Ä°lerlemeniz kaydedilmeyecek.'))return;
  clearTimer(); TTS.stop(); BGM.stop(); G.inputLocked=true;
  goLobby();
}

function goLobby() {
  closeModal('modal-gameover');
  clearTimer(); TTS.stop(); BGM.stop();
  if(_lbUnsub){_lbUnsub();_lbUnsub=null;}
  showScreen('lobby');
  updateLobbyUI();
}

// â”€â”€â”€ Voice Settings â”€â”€â”€
function openVoiceSettings() {
  TTS.allVoices=speechSynthesis.getVoices();
  const voices=TTS.allVoices;
  const trVoices=voices.filter(v=>v.lang.startsWith('tr'));
  const otherVoices=voices.filter(v=>!v.lang.startsWith('tr'));
  const currentName=TTS.selectedVoice?TTS.selectedVoice.name:'';
  let html=`<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
    <div style="font-size:0.8rem;color:var(--text2)">Ses Aktif:</div>
    <label style="display:flex;align-items:center;gap:8px;cursor:pointer">
      <input type="checkbox" id="tts-toggle" ${TTS.enabled?'checked':''} onchange="toggleTTS(this.checked)" style="accent-color:var(--blue);width:16px;height:16px">
      <span style="font-size:0.85rem">${TTS.enabled?'AÃ§Ä±k':'KapalÄ±'}</span>
    </label>
  </div>
  <div style="margin-bottom:8px;font-size:0.75rem;color:var(--text2);letter-spacing:2px">SES HIZI</div>
  <input type="range" id="tts-rate" min="0.5" max="1.8" step="0.1" value="${localStorage.getItem('qz_tts_rate')||0.9}"
    oninput="document.getElementById('tts-rate-val').textContent=this.value"
    style="width:100%;accent-color:var(--blue);margin-bottom:4px">
  <div style="display:flex;justify-content:space-between;font-size:0.75rem;color:var(--text2);margin-bottom:16px">
    <span>YavaÅŸ</span><span id="tts-rate-val">${localStorage.getItem('qz_tts_rate')||0.9}</span><span>HÄ±zlÄ±</span>
  </div>`;
  if(trVoices.length>0){html+=`<div style="margin-bottom:8px;font-size:0.75rem;color:var(--green);letter-spacing:2px">ğŸ‡¹ğŸ‡· TÃœRKÃ‡E SESLER (${trVoices.length})</div>`;html+=trVoices.map(v=>voiceCard(v,currentName)).join('');}
  if(otherVoices.length>0){html+=`<div style="margin:14px 0 8px;font-size:0.75rem;color:var(--text2);letter-spacing:2px">ğŸŒ DÄ°ÄER SESLER (${otherVoices.length})</div>`;html+=otherVoices.map(v=>voiceCard(v,currentName)).join('');}
  if(voices.length===0)html+=`<div style="text-align:center;color:var(--text2);padding:20px">Ses bulunamadÄ±.</div>`;
  document.getElementById('voice-list').innerHTML=html;
  openModal('modal-voice');
}

function voiceCard(v,currentName){
  const isSel=v.name===currentName;
  const isLocal=v.localService?'ğŸ’¾ Yerel':'â˜ï¸ Ã‡evrimiÃ§i';
  return `<div class="voice-card ${isSel?'selected':''}" onclick="selectVoice('${v.name.replace(/'/g,"\\'")}',this)">
    <div style="display:flex;align-items:center;justify-content:space-between">
      <div><div style="font-weight:700;font-size:0.88rem;color:${isSel?'var(--blue)':'var(--text)'}">${v.name}</div><div style="font-size:0.72rem;color:var(--text2);margin-top:2px">${v.lang} Â· ${isLocal}</div></div>
      <div style="display:flex;gap:8px;align-items:center">
        ${isSel?'<div style="color:var(--green);font-size:0.8rem">âœ“ SEÃ‡Ä°LÄ°</div>':''}
        <button onclick="event.stopPropagation();testVoice('${v.name.replace(/'/g,"\\'")}',${JSON.stringify(v.name)})" style="padding:5px 10px;background:rgba(0,195,255,0.1);border:1px solid rgba(0,195,255,0.2);border-radius:8px;color:var(--blue);font-size:0.72rem;cursor:pointer;white-space:nowrap">â–¶ Test</button>
      </div>
    </div>
  </div>`;
}

function selectVoice(name,el){
  TTS.setVoice(name);
  document.querySelectorAll('.voice-card').forEach(c=>c.classList.remove('selected'));
  if(el)el.classList.add('selected');
  toast('âœ“ Ses seÃ§ildi: '+name,'success');
  setTimeout(()=>openVoiceSettings(),100);
}

function testVoice(name){
  const v=TTS.allVoices.find(v=>v.name===name);
  if(!v)return;
  speechSynthesis.cancel();
  const u=new SpeechSynthesisUtterance('Merhaba! Bu ses testi. Quizora\'ya hoÅŸ geldiniz.');
  u.voice=v;u.lang=v.lang;u.rate=parseFloat(document.getElementById('tts-rate')?.value||0.9);u.pitch=1.0;
  speechSynthesis.speak(u);
}

function toggleTTS(val){
  TTS.enabled=val;
  localStorage.setItem('qz_tts_enabled',val);
  const label=document.querySelector('#tts-toggle + span');
  if(label)label.textContent=val?'AÃ§Ä±k':'KapalÄ±';
}

function saveVoiceSettings(){
  const rate=document.getElementById('tts-rate')?.value;
  if(rate)localStorage.setItem('qz_tts_rate',parseFloat(rate));
  speechSynthesis.cancel();
  closeModal('modal-voice');
  toast('Ses ayarlarÄ± kaydedildi!','success');
}

// â”€â”€â”€ Keyboard shortcuts â”€â”€â”€
document.addEventListener('keydown', e=>{
  if(e.key==='Enter'){
    if(!document.getElementById('auth-screen').classList.contains('hidden')){
      if(authMode==='login')doLogin();else doRegister();
    }
  }
  if(!document.getElementById('game-screen').classList.contains('hidden')&&!G.inputLocked){
    const map={'1':0,'2':1,'3':2,'4':3,'a':0,'b':1,'c':2,'d':3};
    if(map[e.key.toLowerCase()]!==undefined)pickAnswer(map[e.key.toLowerCase()]);
  }
});

// Loading screen baÅŸlangÄ±Ã§ta gÃ¶ster; onAuthStateChanged kapatar
document.getElementById('loading-status').textContent = 'BAÄLANIYOR...';
</script>
</body>
</html>
